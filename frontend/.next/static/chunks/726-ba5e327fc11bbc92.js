"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{858:(e,a,t)=>{t.d(a,{A:()=>U});var s=t(5155),r=t(2115),l=t(5695),n=t(2540),i=t(5639),o=t(7128),c=t(2550),d=t(502),m=t(9356),h=t(9169),x=t(1838),u=t(403),g=t(178),f=t(3376),b=t(9076),p=t(3388),y=t(3408),v=t(2539),j=t(7691),N=t(8604),w=t(1478),A=t(4139),C=t(7159),k=t(4821),S=t(5915),E=t(8505),P=t(518),D=t(6784);function U(e){var a,U;let{children:R}=e,[_,H]=(0,r.useState)(!1),[M,T]=(0,r.useState)(null),[q,z]=(0,r.useState)(["migration-workbench","operations"]),L=(0,l.useRouter)(),O=(0,l.usePathname)(),W=[{id:"migration-workbench",title:"Migration Workbench",icon:n.A,color:"text-blue-600",bgColor:"bg-blue-600",hoverColor:"hover:bg-blue-50",textColor:"text-blue-900",defaultExpanded:!0,items:[{name:"ETL Dashboard",href:"/dashboard",icon:i.A},{name:"File Upload",href:"/upload",icon:o.A},{name:"Data Validation",href:"/validation",icon:c.A}]},{id:"operations",title:"Operations",icon:d.A,color:"text-indigo-600",bgColor:"bg-indigo-600",hoverColor:"hover:bg-indigo-50",textColor:"text-indigo-900",defaultExpanded:!0,items:[{name:"Work Requests",href:"/work-requests",icon:m.A},{name:"Project Management",href:"/project-management",icon:h.A},{name:"Job Management",href:"/jobs-enhanced",icon:x.A},{name:"Employee Data Processing",href:"/employees",icon:u.A}]},{id:"historical-data",title:"Historical Data",icon:i.A,color:"text-green-600",bgColor:"bg-green-600",hoverColor:"hover:bg-green-50",textColor:"text-green-900",items:[{name:"HR Analytics Dashboard",href:"/historical-dashboard",icon:g.A,isNew:!0},{name:"Reporting",href:"/reporting",icon:f.A},{name:"Audit Trail",href:"/audit",icon:b.A},{name:"Data Analytics",href:"/analytics",icon:n.A}]},{id:"administration",title:"Administration",icon:p.A,color:"text-orange-600",bgColor:"bg-orange-600",hoverColor:"hover:bg-orange-50",textColor:"text-orange-900",items:[{name:"Access Control",href:"/access-control",icon:y.A},{name:"Settings",href:"/settings",icon:p.A},{name:"Benefits",href:"/benefits",icon:v.A},{name:"Payroll",href:"/payroll",icon:j.A}]},{id:"utilities",title:"Utilities",icon:x.A,color:"text-purple-600",bgColor:"bg-purple-600",hoverColor:"hover:bg-purple-50",textColor:"text-purple-900",items:[{name:"Employee Directory",href:"/employee-directory",icon:u.A},{name:"System Health",href:"/system-health",icon:N.A}]}];(0,r.useEffect)(()=>{(async()=>{try{let{createClient:e}=await Promise.all([t.e(354),t.e(99)]).then(t.bind(t,2099)),a=e(),{data:{user:s}}=await a.auth.getUser();T(s)}catch(e){console.log("Supabase not available, using demo user"),T({email:"demo@company.com"})}})(),(async()=>{try{let{createClient:e}=await Promise.all([t.e(354),t.e(99)]).then(t.bind(t,2099)),{data:{subscription:a}}=e().auth.onAuthStateChange((e,a)=>{T((null==a?void 0:a.user)||null)});return()=>a.unsubscribe()}catch(e){return console.log("Supabase auth listener not available"),()=>{}}})()},[]);let B=async()=>{try{let{createClient:e}=await Promise.all([t.e(354),t.e(99)]).then(t.bind(t,2099)),a=e();await a.auth.signOut(),L.push("/login")}catch(e){console.log("Supabase sign out not available, redirecting to login"),L.push("/login")}},F=e=>{z(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},J=e=>O===e,Q=()=>{for(let e of W)if(e.items.some(e=>e.href===O))return e.id;return null};return(0,r.useEffect)(()=>{let e=Q();e&&!q.includes(e)&&z(a=>[...a,e])},[O]),(0,s.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[_&&(0,s.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>H(!1)})}),(0,s.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ".concat(_?"translate-x-0":"-translate-x-full"),children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(w.A,{className:"h-8 w-8 text-blue-600"}),(0,s.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"ETLA"})]}),(0,s.jsx)("button",{onClick:()=>H(!1),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,s.jsx)(A.A,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"p-4 border-b border-gray-200 flex-shrink-0",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(C.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search navigation...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,s.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-3 overflow-y-auto",children:W.map(e=>{let a=q.includes(e.id),t=e.icon;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("button",{onClick:()=>F(e.id),className:"w-full flex items-center justify-between px-3 py-3 text-sm font-bold rounded-lg transition-all duration-200 ".concat(e.color," ").concat(e.hoverColor," border border-gray-100 shadow-sm"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(t,{className:"h-5 w-5 mr-3"}),(0,s.jsx)("span",{className:"font-semibold",children:e.title})]}),(0,s.jsx)("div",{className:"transition-transform duration-200",children:a?(0,s.jsx)(k.A,{className:"h-4 w-4"}):(0,s.jsx)(S.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"transition-all duration-300 ease-in-out overflow-hidden ".concat(a?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,s.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-gray-100 space-y-1 pt-2",children:e.items.map(a=>{let t=a.icon,r=J(a.href);return(0,s.jsxs)("a",{href:a.href,className:"flex items-center px-3 py-2 text-sm rounded-md transition-all duration-200 ".concat(r?"".concat(e.bgColor," text-white shadow-md"):"text-gray-700 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"),children:[(0,s.jsx)(t,{className:"h-4 w-4 mr-3"}),(0,s.jsx)("span",{className:"flex-1",children:a.name}),a.isNew&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"New"}),a.badge&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:a.badge})]},a.name)})})})]},e.id)})}),(0,s.jsx)("div",{className:"border-t border-gray-200 p-4 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:(null==M||null==(a=M.email)?void 0:a.charAt(0).toUpperCase())||"U"})})}),(0,s.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null==M?void 0:M.email)||"demo@company.com"}),(0,s.jsxs)("button",{onClick:B,className:"text-xs text-gray-500 hover:text-gray-700 flex items-center",children:[(0,s.jsx)(E.A,{className:"h-3 w-3 mr-1"}),"Sign out"]})]})]})})]})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-6",children:[(0,s.jsx)("button",{onClick:()=>H(!0),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,s.jsx)(P.A,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,s.jsx)(D.A,{className:"h-6 w-6"})}),(0,s.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:(null==M||null==(U=M.email)?void 0:U.charAt(0).toUpperCase())||"U"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null==M?void 0:M.email)||"demo@company.com"})]})]})]})}),(0,s.jsx)("main",{className:"flex-1 overflow-auto",children:R})]})]})}},9434:(e,a,t)=>{t.d(a,{cn:()=>l});var s=t(2596),r=t(9688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}}}]);