(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{614:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7140).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},2550:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7140).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},2897:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7140).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},3741:(e,s,r)=>{"use strict";r.d(s,{$:()=>l});var t=r(5155),a=r(2115),i=r(9434);let l=a.forwardRef((e,s)=>{let{className:r,variant:a="default",size:l="default",...n}=e;return(0,t.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"default"===a,"bg-red-600 text-white hover:bg-red-700":"destructive"===a,"border border-gray-300 bg-white hover:bg-gray-50":"outline"===a,"bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===a,"hover:bg-gray-100":"ghost"===a,"text-blue-600 underline-offset-4 hover:underline":"link"===a},{"h-10 px-4 py-2":"default"===l,"h-9 rounded-md px-3":"sm"===l,"h-11 rounded-md px-8":"lg"===l,"h-10 w-10":"icon"===l},r),ref:s,...n})});l.displayName="Button"},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},6358:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7140).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6546:(e,s,r)=>{Promise.resolve().then(r.bind(r,9690))},7235:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7140).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7703:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>n});var t=r(5155),a=r(2115),i=r(9434);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",r),...a})});l.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-gray-500",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},8156:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7140).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9434:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(2596),a=r(9688);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}},9690:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(5155),a=r(2115),i=r(5695),l=r(3741),n=r(7703),o=r(2897),c=r(614),d=r(7235),m=r(8156),u=r(2550),x=r(6358),g=r(7020),h=r(2099);function b(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),{signIn:r}=(0,g.h)(),[b,f]=(0,a.useState)({email:"",password:"",isLoading:!1,error:"",resetEmail:"",isResetLoading:!1,resetError:"",resetSuccess:!1,activeTab:"login",isGoogleLoading:!1});(0,a.useEffect)(()=>{let e=s.get("tab"),r=s.get("message"),t=s.get("error");"forgot"===e&&f(e=>({...e,activeTab:"forgot"})),r&&f(e=>({...e,error:r})),t&&f(e=>({...e,error:"Authentication error: ".concat(t)}))},[s]);let p=async s=>{s.preventDefault(),f(e=>({...e,isLoading:!0,error:""}));try{console.log("Attempting login with: ".concat(b.email));let{error:s}=await r(b.email,b.password);s?(console.error("Login error:",s),f(e=>({...e,isLoading:!1,error:"Login failed: ".concat(s.message)}))):(console.log("Login successful, redirecting..."),e.push("/work-requests"))}catch(e){console.error("Login exception:",e),f(s=>({...s,isLoading:!1,error:"Login error: ".concat(e.message||"Unknown error")}))}},y=async()=>{f(e=>({...e,isGoogleLoading:!0,error:""}));try{let{error:e}=await h.ND.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});e&&(console.error("Google sign-in error:",e),f(s=>({...s,isGoogleLoading:!1,error:"Google sign-in failed: ".concat(e.message)})))}catch(e){console.error("Google sign-in exception:",e),f(s=>({...s,isGoogleLoading:!1,error:"Google sign-in error: ".concat(e.message||"Unknown error")}))}},j=async e=>{e.preventDefault(),f(e=>({...e,isResetLoading:!0,resetError:"",resetSuccess:!1}));try{let{error:e}=await h.ND.auth.resetPasswordForEmail(b.resetEmail,{redirectTo:"".concat(window.location.origin,"/reset-password")});e?f(s=>({...s,isResetLoading:!1,resetError:e.message})):f(e=>({...e,isResetLoading:!1,resetSuccess:!0}))}catch(e){f(s=>({...s,isResetLoading:!1,resetError:e.message||"Failed to send reset email"}))}},v=e=>{f(s=>({...s,activeTab:e,error:"",resetError:"",resetSuccess:!1}))};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"HelixBridge"}),(0,t.jsx)("p",{className:"text-gray-600",children:"login"===b.activeTab?"Sign in to access your account":"Reset your password"})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,t.jsxs)("button",{onClick:()=>v("login"),className:"flex-1 py-3 px-4 text-sm font-medium text-center border-b-2 transition-colors ".concat("login"===b.activeTab?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(o.A,{className:"h-4 w-4 inline mr-2"}),"Sign In"]}),(0,t.jsxs)("button",{onClick:()=>v("forgot"),className:"flex-1 py-3 px-4 text-sm font-medium text-center border-b-2 transition-colors ".concat("forgot"===b.activeTab?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(c.A,{className:"h-4 w-4 inline mr-2"}),"Forgot Password"]})]}),"login"===b.activeTab&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Sign In"]}),(0,t.jsx)(n.BT,{children:"Enter your credentials to access the platform"})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:y,disabled:b.isGoogleLoading||b.isLoading,className:"w-full",children:b.isGoogleLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}),"Connecting to Google..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})}),(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:b.email,onChange:e=>f(s=>({...s,email:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",disabled:b.isLoading||b.isGoogleLoading})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:b.password,onChange:e=>f(s=>({...s,password:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",disabled:b.isLoading||b.isGoogleLoading})]}),b.error&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700",children:b.error})]}),(0,t.jsx)(l.$,{type:"submit",disabled:b.isLoading||b.isGoogleLoading,className:"w-full",children:b.isLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}),"Signing in..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Sign In"]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>v("forgot"),className:"text-sm text-blue-600 hover:text-blue-500",disabled:b.isLoading||b.isGoogleLoading,children:"Forgot your password?"})})]})]})]}),"forgot"===b.activeTab&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-5 w-5"}),"Reset Password"]}),(0,t.jsx)(n.BT,{children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,t.jsx)(n.Wu,{children:b.resetSuccess?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your email"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["We've sent a password reset link to ",(0,t.jsx)("strong",{children:b.resetEmail})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."})]}),(0,t.jsx)(l.$,{onClick:()=>f(e=>({...e,resetSuccess:!1,resetEmail:""})),variant:"outline",className:"w-full",children:"Send another email"}),(0,t.jsx)(l.$,{onClick:()=>v("login"),className:"w-full",children:"Back to Sign In"})]}):(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,t.jsx)("input",{id:"resetEmail",type:"email",value:b.resetEmail,onChange:e=>f(s=>({...s,resetEmail:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email address",disabled:b.isResetLoading})]}),b.resetError&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700",children:b.resetError})]}),(0,t.jsx)(l.$,{type:"submit",disabled:b.isResetLoading,className:"w-full",children:b.isResetLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}),"Sending reset link..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Send Reset Link"]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>v("login"),className:"text-sm text-blue-600 hover:text-blue-500",disabled:b.isResetLoading,children:"Back to Sign In"})})]})})]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"\xa9 2024 HelixBridge. All rights reserved."})})]})})}function f(){return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})})}function p(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(f,{}),children:(0,t.jsx)(b,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[7590,2354,2099,4660,8441,1684,7358],()=>s(6546)),_N_E=e.O()}]);