(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8920],{936:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7140).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1266:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var a=s(5155),r=s(2115),l=s(2539),i=s(3376),n=s(2550),c=s(1073),o=s(7141),d=s(936),x=s(7691),m=s(5639),u=s(9169),h=s(403),g=s(3408),p=s(3715),j=s(7159),b=s(907),v=s(412),y=s(8499),f=s(477),N=s(9076),w=s(7808),k=s(6836),_=s(3741),C=s(7703),S=s(3915),P=s(2814),A=s(858),D=s(7020),q=s(7737),R=s(2099);function E(){let{user:e}=(0,D.h)(),{selectedTenant:t}=(0,q.Ku)(),s=(0,q.wz)(),{isMultiTenant:E,availableTenants:L}=(0,q.un)(),[B,$]=(0,r.useState)("projects"),[I,W]=(0,r.useState)("list"),[z,F]=(0,r.useState)([]),[H,K]=(0,r.useState)([]),[V,Z]=(0,r.useState)([]),[J,U]=(0,r.useState)({totalProjects:0,activeProjects:0,completedProjects:0,onHoldProjects:0,workRequests:0,pendingWorkRequests:0,approvedWorkRequests:0,highRisks:0,totalBudget:0,averageCompletion:0}),[Q,G]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),[es,ea]=(0,r.useState)(null),[er,el]=(0,r.useState)(""),[ei,en]=(0,r.useState)("all"),[ec,eo]=(0,r.useState)("all"),[ed,ex]=(0,r.useState)("all"),[em,eu]=(0,r.useState)("all"),[eh,eg]=(0,r.useState)(""),[ep,ej]=(0,r.useState)(!0),[eb,ev]=(0,r.useState)(null),[ey,ef]=(0,r.useState)(1),[eN,ew]=(0,r.useState)(10);(0,r.useEffect)(()=>{ek()},[s.join(",")]);let ek=async()=>{if(!s||0===s.length){console.log("No accessible tenants, skipping load"),ej(!1);return}ej(!0),ev(null);try{console.log("Loading project data for tenants:",s);try{let{data:e,error:t}=await R.ND.from("project_charters").select("*").in("tenant_id",s).order("created_at",{ascending:!1});t?(console.error("Project charters query error:",t),F([])):F(e||[])}catch(e){console.error("Project charters query error:",e),F([])}try{let{data:e,error:t}=await R.ND.from("work_requests").select("*").in("tenant_id",s).order("created_at",{ascending:!1});t?(console.error("Work requests query error:",t),K([])):K(e||[])}catch(e){console.error("Work requests query error:",e),K([])}try{let{data:e,error:t}=await R.ND.from("risk_register").select("*").in("tenant_id",s).order("created_at",{ascending:!1});t?(console.error("Risk register query error:",t),Z([])):Z(e||[])}catch(e){console.error("Risk register query error:",e),Z([])}}catch(e){console.error("Error loading data:",e),ev("Failed to load project management data. Please try again.")}finally{ej(!1)}};(0,r.useEffect)(()=>{let e=z.length,t=z.filter(e=>"completed"!==e.charter_status&&"cancelled"!==e.charter_status).length,s=z.filter(e=>"completed"===e.charter_status).length,a=z.filter(e=>"on_hold"===e.charter_status).length,r=H.length,l=H.filter(e=>"pending"===e.status).length,i=H.filter(e=>"approved"===e.status).length,n=V.filter(e=>"high"===e.risk_level||"high"===e.level||"high"===e.severity).length;U({totalProjects:e,activeProjects:t,completedProjects:s,onHoldProjects:a,workRequests:r,pendingWorkRequests:l,approvedWorkRequests:i,highRisks:n,totalBudget:z.reduce((e,t)=>e+(t.budget||t.estimated_budget||0),0),averageCompletion:z.length>0?z.reduce((e,t)=>e+(t.completion_percentage||0),0)/z.length:0})},[z,H,V]);let e_=async s=>{if((null==t?void 0:t.id)&&(null==e?void 0:e.id))try{let e={...s,tenant_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:r}=await R.ND.from("project_charters").insert([e]).select().single();if(r){console.error("Error creating project:",r),ev("Failed to create project. Please try again.");return}F(e=>[a,...e]),G(!1)}catch(e){console.error("Error creating project:",e),ev("Failed to create project. Please try again.")}},eC=async(e,t)=>{try{let{data:s,error:a}=await R.ND.from("project_charters").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a){console.error("Error updating project:",a),ev("Failed to update project. Please try again.");return}F(t=>t.map(t=>t.id===e?s:t)),Y(!1),ea(null)}catch(e){console.error("Error updating project:",e),ev("Failed to update project. Please try again.")}},eS=async e=>{if(confirm("Are you sure you want to delete this project?"))try{let{error:t}=await R.ND.from("project_charters").delete().eq("id",e);if(t){console.error("Error deleting project:",t),ev("Failed to delete project. Please try again.");return}F(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting project:",e),ev("Failed to delete project. Please try again.")}},eP=z.filter(e=>{let t=!er||(e.title||e.project_name||e.project_title||"").toLowerCase().includes(er.toLowerCase())||(e.description||"").toLowerCase().includes(er.toLowerCase())||(e.project_code||"").toLowerCase().includes(er.toLowerCase())||(e.assigned_team_lead||e.team_lead||e.manager||"").toLowerCase().includes(er.toLowerCase()),s="all"===ei||e.charter_status===ei,a="all"===ec||e.priority===ec,r="all"===ed||e.department===ed,l="all"===em||e.project_type===em,i=!eh||e.tenant_id===eh;return t&&s&&a&&r&&l&&i}),eA=eP.length,eD=Math.ceil(eA/eN),eq=(ey-1)*eN,eR=eq+eN,eE=eP.slice(eq,eR);(0,r.useEffect)(()=>{ef(1)},[er,ei,ec,ed,em,eh]);let eM=e=>{ef(e)},eO=e=>{ew(e),ef(1)},eT=e=>{var t;return e.title||e.project_name||e.project_title||"Project ".concat(null==(t=e.id)?void 0:t.slice(0,8))},eL=e=>e.assigned_team_lead||e.team_lead||e.project_manager||e.manager||"Unassigned",eB=[{title:"Total Projects",value:J.totalProjects,icon:l.A,color:"blue",bgColor:"bg-blue-50",iconColor:"text-blue-600"},{title:"Active",value:J.activeProjects,icon:i.A,color:"green",bgColor:"bg-green-50",iconColor:"text-green-600"},{title:"Completed",value:J.completedProjects,icon:n.A,color:"green",bgColor:"bg-green-50",iconColor:"text-green-600"},{title:"On Hold",value:J.onHoldProjects,icon:c.A,color:"yellow",bgColor:"bg-yellow-50",iconColor:"text-yellow-600"},{title:"Work Requests",value:J.workRequests,icon:o.A,color:"purple",bgColor:"bg-purple-50",iconColor:"text-purple-600"},{title:"Pending WR",value:J.pendingWorkRequests,icon:c.A,color:"yellow",bgColor:"bg-yellow-50",iconColor:"text-yellow-600"},{title:"Approved WR",value:J.approvedWorkRequests,icon:n.A,color:"green",bgColor:"bg-green-50",iconColor:"text-green-600"},{title:"High Risks",value:J.highRisks,icon:d.A,color:"red",bgColor:"bg-red-50",iconColor:"text-red-600"},{title:"Total Budget",value:"$".concat(J.totalBudget.toLocaleString()),icon:x.A,color:"blue",bgColor:"bg-blue-50",iconColor:"text-blue-600"}],e$=[{id:"projects",label:"Projects",count:J.totalProjects,icon:l.A},{id:"work-requests",label:"Work Requests",count:J.workRequests,icon:o.A},{id:"risks",label:"Risks",count:V.length,icon:d.A},{id:"charter",label:"Charter",icon:o.A},{id:"wbs",label:"WBS",icon:m.A},{id:"schedule",label:"Schedule",icon:u.A},{id:"evm",label:"EVM",icon:i.A},{id:"stakeholders",label:"Stakeholders",icon:h.A},{id:"compliance",label:"Compliance",icon:g.A}];return ep?(0,a.jsx)(A.A,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading project management data..."})]})})}):(0,a.jsxs)(A.A,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive project lifecycle management with PMBOK framework"})]}),(0,a.jsxs)(_.$,{onClick:()=>G(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),eb&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-red-600 mr-2"}),(0,a.jsx)("span",{className:"text-red-800",children:eb})]}),(0,a.jsx)("button",{onClick:()=>ev(null),className:"text-red-600 hover:text-red-800",children:"\xd7"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-9 gap-4",children:eB.map((e,t)=>(0,a.jsx)(C.Zp,{className:"".concat(e.bgColor," border-0"),children:(0,a.jsx)(C.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),(0,a.jsx)(e.icon,{className:"h-8 w-8 ".concat(e.iconColor)})]})})},t))}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:e$.map(e=>(0,a.jsxs)("button",{onClick:()=>$(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ".concat(B===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label,void 0!==e.count&&(0,a.jsx)("span",{className:"ml-2 py-0.5 px-2 rounded-full text-xs ".concat(B===e.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:e.count})]},e.id))})}),"projects"===B&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enhanced Filters & Search"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(S.p,{placeholder:"Search projects...",value:er,onChange:e=>el(e.target.value),className:"pl-10"})]})}),(0,a.jsxs)("select",{value:ei,onChange:e=>en(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Statuses"}),(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"on_hold",children:"On Hold"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsxs)("select",{value:ec,onChange:e=>eo(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Priorities"}),(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]}),(0,a.jsxs)("select",{value:ed,onChange:e=>ex(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Departments"}),(0,a.jsx)("option",{value:"IT",children:"IT"}),(0,a.jsx)("option",{value:"HR",children:"HR"}),(0,a.jsx)("option",{value:"Finance",children:"Finance"}),(0,a.jsx)("option",{value:"Operations",children:"Operations"}),(0,a.jsx)("option",{value:"Marketing",children:"Marketing"})]}),E&&(0,a.jsxs)("select",{value:eh,onChange:e=>eg(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Tenants"}),L.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsx)(_.$,{variant:"outline",onClick:()=>{el(""),en("all"),eo("all"),ex("all"),eu("all"),eg("")},children:"Clear Filters"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Enhanced Projects (",eA," total, showing ",eq+1,"-",Math.min(eR,eA),")"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>W("list"),className:"p-2 rounded ".concat("list"===I?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900"),children:(0,a.jsx)(b.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>W("grid"),className:"p-2 rounded ".concat("grid"===I?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900"),children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(_.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,a.jsxs)(_.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]}),"list"===I?(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Lead"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:eE.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:eT(e)}),e.project_code&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.project_code})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:eL(e)})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(P.E,{variant:"active"===e.charter_status?"default":"secondary",children:e.charter_status||"draft"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(P.E,{variant:"high"===e.priority?"destructive":"secondary",children:e.priority||"medium"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.completion_percentage||0,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.completion_percentage||0,"%"]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(e.budget||e.estimated_budget||0).toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:()=>{ea(e),et(!0)},children:(0,a.jsx)(N.A,{className:"h-4 w-4"})}),(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:()=>{ea(e),Y(!0)},children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:()=>eS(e.id),children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eE.map(e=>(0,a.jsxs)(C.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsx)(C.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C.ZB,{className:"text-lg",children:eT(e)}),e.project_code&&(0,a.jsx)(C.BT,{children:e.project_code})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:()=>{ea(e),et(!0)},children:(0,a.jsx)(N.A,{className:"h-4 w-4"})}),(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:()=>{ea(e),Y(!0)},children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(C.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,a.jsx)(P.E,{variant:"active"===e.charter_status?"default":"secondary",children:e.charter_status||"draft"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Priority:"}),(0,a.jsx)(P.E,{variant:"high"===e.priority?"destructive":"secondary",children:e.priority||"medium"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Team Lead:"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:eL(e)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Budget:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["$",(e.budget||e.estimated_budget||0).toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Progress:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.completion_percentage||0,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.completion_percentage||0,"%")}})})]})]})})]},e.id))}),eA>0&&(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Show"}),(0,a.jsxs)("select",{value:eN,onChange:e=>eO(Number(e.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,a.jsx)("option",{value:5,children:"5"}),(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:25,children:"25"}),(0,a.jsx)("option",{value:50,children:"50"})]}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"per page"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.$,{variant:"outline",size:"sm",onClick:()=>eM(ey-1),disabled:1===ey,children:"Previous"}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,eD)},(e,t)=>{let s;return s=eD<=5||ey<=3?t+1:ey>=eD-2?eD-4+t:ey-2+t,(0,a.jsx)(_.$,{variant:ey===s?"default":"outline",size:"sm",onClick:()=>eM(s),className:"w-8 h-8 p-0",children:s},s)})}),(0,a.jsx)(_.$,{variant:"outline",size:"sm",onClick:()=>eM(ey+1),disabled:ey===eD,children:"Next"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",ey," of ",eD]})]})]}),"work-requests"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Work Requests"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Work request management functionality coming soon."})]}),"risks"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Risk Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Risk register and management functionality coming soon."})]}),"charter"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Project Charter"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Project charter management functionality coming soon."})]}),"wbs"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Work Breakdown Structure"}),(0,a.jsx)("p",{className:"text-gray-600",children:"WBS management functionality coming soon."})]}),"schedule"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(u.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Project Schedule"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Schedule management functionality coming soon."})]}),"evm"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Earned Value Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"EVM functionality coming soon."})]}),"stakeholders"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Stakeholder Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Stakeholder management functionality coming soon."})]}),"compliance"===B&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(g.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Compliance Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Compliance tracking functionality coming soon."})]})]}),Q&&(0,a.jsx)(M,{isOpen:Q,onClose:()=>G(!1),onSubmit:e_,workRequests:H}),X&&es&&(0,a.jsx)(O,{isOpen:X,onClose:()=>{Y(!1),ea(null)},onSubmit:e=>eC(es.id,e),project:es,workRequests:H}),ee&&es&&(0,a.jsx)(T,{isOpen:ee,onClose:()=>{et(!1),ea(null)},project:es})]})}function M(e){let{isOpen:t,onClose:s,onSubmit:l,workRequests:i}=e,[n,c]=(0,r.useState)({title:"",project_name:"",project_code:"",priority:"medium",charter_status:"draft",completion_percentage:0,project_type:"internal",billing_type:"fixed"});return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Project"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(n)},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title *"}),(0,a.jsx)(S.p,{value:n.title||"",onChange:e=>c(t=>({...t,title:e.target.value})),placeholder:"Enter project title",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Code"}),(0,a.jsx)(S.p,{value:n.project_code||"",onChange:e=>c(t=>({...t,project_code:e.target.value})),placeholder:"e.g., PROJ-2024-001"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:n.description||"",onChange:e=>c(t=>({...t,description:e.target.value})),placeholder:"Project description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,a.jsxs)("select",{value:n.priority||"medium",onChange:e=>c(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Type"}),(0,a.jsxs)("select",{value:n.project_type||"internal",onChange:e=>c(t=>({...t,project_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"internal",children:"Internal"}),(0,a.jsx)("option",{value:"external",children:"External"}),(0,a.jsx)("option",{value:"customer",children:"Customer"}),(0,a.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Team & Organization"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Lead"}),(0,a.jsx)(S.p,{value:n.assigned_team_lead||"",onChange:e=>c(t=>({...t,assigned_team_lead:e.target.value})),placeholder:"Assigned team lead"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sponsor"}),(0,a.jsx)(S.p,{value:n.sponsor||"",onChange:e=>c(t=>({...t,sponsor:e.target.value})),placeholder:"Project sponsor"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,a.jsxs)("select",{value:n.department||"",onChange:e=>c(t=>({...t,department:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Department"}),(0,a.jsx)("option",{value:"IT",children:"IT"}),(0,a.jsx)("option",{value:"HR",children:"HR"}),(0,a.jsx)("option",{value:"Finance",children:"Finance"}),(0,a.jsx)("option",{value:"Operations",children:"Operations"}),(0,a.jsx)("option",{value:"Marketing",children:"Marketing"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Division"}),(0,a.jsx)(S.p,{value:n.division||"",onChange:e=>c(t=>({...t,division:e.target.value})),placeholder:"Division"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Request Reference"}),(0,a.jsxs)("select",{value:n.work_request_id||"",onChange:e=>c(t=>({...t,work_request_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Create without work request"}),i.filter(e=>"approved"===e.status).map(e=>(0,a.jsx)("option",{value:e.id,children:e.title||"Work Request ".concat(e.id.slice(0,8))},e.id))]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PMBOK Framework"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Scope"}),(0,a.jsx)("textarea",{value:n.project_scope||"",onChange:e=>c(t=>({...t,project_scope:e.target.value})),placeholder:"Define project scope and boundaries",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Success Criteria"}),(0,a.jsx)("textarea",{value:n.success_criteria||"",onChange:e=>c(t=>({...t,success_criteria:e.target.value})),placeholder:"Define success criteria and acceptance criteria",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Case"}),(0,a.jsx)("textarea",{value:n.business_case||"",onChange:e=>c(t=>({...t,business_case:e.target.value})),placeholder:"Business justification for the project",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)(S.p,{type:"date",value:n.start_date||"",onChange:e=>c(t=>({...t,start_date:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)(S.p,{type:"date",value:n.end_date||"",onChange:e=>c(t=>({...t,end_date:e.target.value}))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),(0,a.jsx)(S.p,{type:"number",value:n.budget||"",onChange:e=>c(t=>({...t,budget:parseFloat(e.target.value)||0})),placeholder:"0.00",step:"0.01"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Assessment"}),(0,a.jsx)("textarea",{value:n.risk_assessment||"",onChange:e=>c(t=>({...t,risk_assessment:e.target.value})),placeholder:"Initial risk assessment and mitigation strategies",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Metrics"}),(0,a.jsx)("textarea",{value:n.quality_metrics||"",onChange:e=>c(t=>({...t,quality_metrics:e.target.value})),placeholder:"Quality standards and metrics",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,a.jsx)(_.$,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(_.$,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Create Project"})]})]})]})}):null}function O(e){let{isOpen:t,onClose:s,onSubmit:l,project:i,workRequests:n}=e,[c,o]=(0,r.useState)(i);return((0,r.useEffect)(()=>{o(i)},[i]),t)?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Project"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(c)},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title *"}),(0,a.jsx)(S.p,{value:c.title||"",onChange:e=>o(t=>({...t,title:e.target.value})),placeholder:"Enter project title",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Code"}),(0,a.jsx)(S.p,{value:c.project_code||"",onChange:e=>o(t=>({...t,project_code:e.target.value})),placeholder:"e.g., PROJ-2024-001"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:c.description||"",onChange:e=>o(t=>({...t,description:e.target.value})),placeholder:"Project description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:c.charter_status||"draft",onChange:e=>o(t=>({...t,charter_status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"on_hold",children:"On Hold"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),(0,a.jsxs)("select",{value:c.priority||"medium",onChange:e=>o(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Completion Percentage"}),(0,a.jsx)(S.p,{type:"number",min:"0",max:"100",value:c.completion_percentage||0,onChange:e=>o(t=>({...t,completion_percentage:parseInt(e.target.value)||0}))})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Team & Organization"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Lead"}),(0,a.jsx)(S.p,{value:c.assigned_team_lead||"",onChange:e=>o(t=>({...t,assigned_team_lead:e.target.value})),placeholder:"Assigned team lead"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sponsor"}),(0,a.jsx)(S.p,{value:c.sponsor||"",onChange:e=>o(t=>({...t,sponsor:e.target.value})),placeholder:"Project sponsor"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,a.jsxs)("select",{value:c.department||"",onChange:e=>o(t=>({...t,department:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select Department"}),(0,a.jsx)("option",{value:"IT",children:"IT"}),(0,a.jsx)("option",{value:"HR",children:"HR"}),(0,a.jsx)("option",{value:"Finance",children:"Finance"}),(0,a.jsx)("option",{value:"Operations",children:"Operations"}),(0,a.jsx)("option",{value:"Marketing",children:"Marketing"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Division"}),(0,a.jsx)(S.p,{value:c.division||"",onChange:e=>o(t=>({...t,division:e.target.value})),placeholder:"Division"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)(S.p,{type:"date",value:c.start_date||"",onChange:e=>o(t=>({...t,start_date:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)(S.p,{type:"date",value:c.end_date||"",onChange:e=>o(t=>({...t,end_date:e.target.value}))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget"}),(0,a.jsx)(S.p,{type:"number",value:c.budget||"",onChange:e=>o(t=>({...t,budget:parseFloat(e.target.value)||0})),placeholder:"0.00",step:"0.01"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,a.jsx)(_.$,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(_.$,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Update Project"})]})]})]})}):null}function T(e){var t;let{isOpen:s,onClose:r,project:l}=e;if(!s)return null;let i=e=>e?new Date(e).toLocaleDateString():"Not set";return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Project Details"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Basic Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Name"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.title||l.project_name||l.project_title||"Untitled Project"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Code"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.project_code||"Not assigned"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.description||"No description provided"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("high"===l.priority?"bg-red-100 text-red-800":"medium"===l.priority?"bg-yellow-100 text-yellow-800":"low"===l.priority?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:l.priority||"Not set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("completed"===l.status?"bg-green-100 text-green-800":"in_progress"===l.status?"bg-blue-100 text-blue-800":"on_hold"===l.status?"bg-yellow-100 text-yellow-800":"cancelled"===l.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:l.status||"Not set"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Project Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i(l.start_date)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i(l.end_date)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Budget"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(t=l.budget||l.estimated_budget)?"$".concat(t.toLocaleString()):"$0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Manager"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.project_manager||"Not assigned"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sponsor"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.sponsor||"Not assigned"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Team & Stakeholders"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Stakeholders"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.stakeholders||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Team Members"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.team_members||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.department||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Objectives & Scope"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Objectives"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.objectives||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Scope"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.scope||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Deliverables"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:l.deliverables||"Not specified"})]})]})]})}),(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(_.$,{onClick:r,variant:"outline",children:"Close"})})})]})})}},2814:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(5155),r=s(2115),l=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="default",...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{"border-transparent bg-blue-600 text-white hover:bg-blue-700":"default"===r,"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===r,"border-transparent bg-red-600 text-white hover:bg-red-700":"destructive"===r,"text-gray-950 border-gray-200 bg-white hover:bg-gray-50":"outline"===r},s),...i})});i.displayName="Badge"},3741:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var a=s(5155),r=s(2115),l=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="default",size:i="default",...n}=e;return(0,a.jsx)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"default"===r,"bg-red-600 text-white hover:bg-red-700":"destructive"===r,"border border-gray-300 bg-white hover:bg-gray-50":"outline"===r,"bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===r,"hover:bg-gray-100":"ghost"===r,"text-blue-600 underline-offset-4 hover:underline":"link"===r},{"h-10 px-4 py-2":"default"===i,"h-9 rounded-md px-3":"sm"===i,"h-11 rounded-md px-8":"lg"===i,"h-10 w-10":"icon"===i},s),ref:t,...n})});i.displayName="Button"},3915:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155),r=s(2115),l=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},7737:(e,t,s)=>{"use strict";s.d(t,{Ku:()=>o,TenantProvider:()=>c,un:()=>x,wz:()=>d});var a=s(5155),r=s(2115),l=s(2099),i=s(7020);let n=(0,r.createContext)(void 0);function c(e){let{children:t}=e,{user:s,tenantUser:c,isAuthenticated:o,isDemoMode:d}=(0,i.h)(),[x,m]=(0,r.useState)(null),[u,h]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0),j={id:"99883779-9517-4ca9-a3f8-7fdc59051f0e",name:"Demo Company",domain:"demo.company.com",status:"active",subscription_plan:"professional",subscription_start_date:new Date().toISOString(),max_users:25,current_users:5,settings:{},tenant_id:"99883779-9517-4ca9-a3f8-7fdc59051f0e",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},b=async()=>{if(d){h([j]),m(j),p(!1);return}if(!o||!s){h([]),m(null),p(!1);return}try{if((null==c?void 0:c.role)==="host_admin"){let{data:e,error:t}=await l.ND.from("tenants").select("*").order("name");if(t)throw t;h(e||[]);let s=(null==e?void 0:e[0])||null;m(s)}else{let{data:e,error:t}=await l.ND.from("tenant_users").select("tenant_id").eq("user_id",s.id).eq("is_active",!0);if(t)throw t;if(e&&e.length>0){let t=e.map(e=>e.tenant_id),{data:s,error:a}=await l.ND.from("tenants").select("*").in("id",t).order("name");if(a)throw a;h(s||[]);let r=(null==s?void 0:s.find(e=>e.id===(null==c?void 0:c.tenant_id)))||(null==s?void 0:s[0])||null;m(r)}else h([]),m(null)}}catch(e){console.error("Error loading tenants:",e),h([]),m(null)}finally{p(!1)}};return(0,r.useEffect)(()=>{b()},[o,s,c,d]),(0,a.jsx)(n.Provider,{value:{selectedTenant:x,setSelectedTenant:m,availableTenants:u,isLoading:g,loadAvailableTenants:b,canSelectTenant:()=>!d&&((null==c?void 0:c.role)==="host_admin"||(null==c?void 0:c.role)==="program_manager"),getAllAccessibleTenantIds:()=>d?[j.id]:u.map(e=>e.id),isMultiTenant:()=>u.length>1,isDemoMode:d},children:t})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTenant must be used within a TenantProvider");return e}function d(){let{getAllAccessibleTenantIds:e}=o();return e()}function x(){let{isMultiTenant:e,selectedTenant:t,availableTenants:s}=o();return{isMultiTenant:e(),selectedTenant:t,availableTenants:s}}},8499:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7140).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8762:(e,t,s)=>{Promise.resolve().then(s.bind(s,1266))}},e=>{var t=t=>e(e.s=t);e.O(0,[7590,2354,305,2099,4660,4619,8441,1684,7358],()=>t(8762)),_N_E=e.O()}]);