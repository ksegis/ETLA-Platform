(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5810],{158:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var n=s(5155),r=s(2115),a=s(7703),i=s(3741),l=s(3915),o=s(2814);let c=e=>{let{open:t,onOpenChange:s,children:r}=e;return t?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>null==s?void 0:s(!1)}),(0,n.jsx)("div",{className:"relative z-50 max-h-[90vh] overflow-y-auto",children:r})]}):null},d=e=>{let{className:t="",children:s}=e;return(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4 ".concat(t),children:s})},u=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"mb-4",children:t})},m=e=>{let{className:t="",children:s}=e;return(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 ".concat(t),children:s})},h=e=>{let{className:t="",children:s}=e;return(0,n.jsx)("p",{className:"text-sm text-gray-500 ".concat(t),children:s})},x=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex justify-end gap-2 mt-4",children:t})},g=e=>{let{onClick:t,children:s}=e;return(0,n.jsx)("button",{onClick:t,className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2",children:s})},p=e=>{let{onClick:t,children:s}=e;return(0,n.jsx)("button",{onClick:t,className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:s})};var f=s(858),b=s(7737),j=s(403),v=s(3715),y=s(7159),w=s(1765),N=s(9356),_=s(6835),S=s(7691),k=s(9076),C=s(7808),A=s(6569),D=s(1353),E=s(4236),P=s(6874),T=s.n(P);let I={draft:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",closed:"bg-red-100 text-red-800"},O={full_time:"Full Time",part_time:"Part Time",contract:"Contract",internship:"Internship"},F={remote:"Remote",hybrid:"Hybrid",onsite:"On-site"};function L(){let{selectedTenant:e}=(0,b.Ku)(),[t,s]=(0,r.useState)([]),[P,L]=(0,r.useState)(!0),[U,J]=(0,r.useState)(""),[M,$]=(0,r.useState)("all"),[z,R]=(0,r.useState)("all"),[q,H]=(0,r.useState)(!1),[B,W]=(0,r.useState)(null),[Z,K]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(null==e?void 0:e.id)&&G()},[null==e?void 0:e.id]);let G=async()=>{try{L(!0);let t=[{id:"1",title:"Senior Full Stack Developer",department:"Engineering",location:"San Francisco, CA",employment_type:"full_time",work_mode:"hybrid",salary_min:12e4,salary_max:18e4,salary_currency:"USD",status:"active",applications_count:24,created_at:"2024-01-10",updated_at:"2024-01-15",hiring_manager_id:"hm1",hiring_manager_name:"Sarah Johnson",description:"We are looking for a Senior Full Stack Developer to join our growing engineering team.",requirements:["5+ years experience","React/Node.js","TypeScript"],benefits:["Health Insurance","401k","Remote Work"],posted_date:"2024-01-12",tenant_id:(null==e?void 0:e.id)||""},{id:"2",title:"Product Manager",department:"Product",location:"New York, NY",employment_type:"full_time",work_mode:"onsite",salary_min:1e5,salary_max:14e4,salary_currency:"USD",status:"active",applications_count:18,created_at:"2024-01-08",updated_at:"2024-01-14",hiring_manager_id:"hm2",hiring_manager_name:"Michael Chen",description:"Seeking an experienced Product Manager to drive product strategy and execution.",requirements:["3+ years PM experience","Agile methodology","Data-driven"],benefits:["Health Insurance","Stock Options","Flexible PTO"],posted_date:"2024-01-10",tenant_id:(null==e?void 0:e.id)||""},{id:"3",title:"UX Designer",department:"Design",location:"Remote",employment_type:"full_time",work_mode:"remote",salary_min:8e4,salary_max:12e4,salary_currency:"USD",status:"draft",applications_count:0,created_at:"2024-01-16",updated_at:"2024-01-16",hiring_manager_id:"hm3",hiring_manager_name:"Emily Davis",description:"Looking for a creative UX Designer to enhance our user experience.",requirements:["Portfolio required","Figma proficiency","User research experience"],benefits:["Health Insurance","Remote Work","Learning Budget"],tenant_id:(null==e?void 0:e.id)||""}];s(t)}catch(e){console.error("Error loading jobs:",e)}finally{L(!1)}},V=t.filter(e=>{let t=e.title.toLowerCase().includes(U.toLowerCase())||e.department.toLowerCase().includes(U.toLowerCase())||e.location.toLowerCase().includes(U.toLowerCase()),s="all"===M||e.status===M,n="all"===z||e.department===z;return t&&s&&n}),Q=Array.from(new Set(t.map(e=>e.department))),ee=async(e,t)=>{switch(W(t),e){case"archive":Y(!0);break;case"delete":K(!0);break;case"duplicate":await en(t)}},et=async()=>{if(B)try{let e=t.map(e=>e.id===B.id?{...e,status:"closed"}:e);s(e),Y(!1),W(null)}catch(e){console.error("Error archiving job:",e)}},es=async()=>{if(B)try{let e=t.filter(e=>e.id!==B.id);s(e),K(!1),W(null)}catch(e){console.error("Error deleting job:",e)}},en=async e=>{try{let t={...e,id:"".concat(e.id,"-copy-").concat(Date.now()),title:"".concat(e.title," (Copy)"),status:"draft",applications_count:0,created_at:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString().split("T")[0],posted_date:void 0};s(e=>[t,...e])}catch(e){console.error("Error duplicating job:",e)}},er=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD";if(!e&&!t)return"Salary not specified";let n=new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0});return e&&t?"".concat(n.format(e)," - ").concat(n.format(t)):e?"".concat(n.format(e),"+"):"Up to ".concat(n.format(t))};return P?(0,n.jsx)(f.A,{children:(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):(0,n.jsx)(f.A,{children:(0,n.jsxs)("div",{className:"p-6 lg:p-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Jobs"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage job postings and track applications"})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(T(),{href:"/talent/pipeline",children:(0,n.jsxs)(i.$,{variant:"outline",children:[(0,n.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Pipeline"]})}),(0,n.jsx)(T(),{href:"/talent/jobs/new",children:(0,n.jsxs)(i.$,{children:[(0,n.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Post New Job"]})})]})]}),(0,n.jsx)(a.Zp,{className:"p-4 mb-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,n.jsx)(l.p,{type:"text",placeholder:"Job title, department...",value:U,onChange:e=>J(e.target.value),className:"pl-10"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,n.jsxs)("select",{value:M,onChange:e=>$(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"all",children:"All Statuses"}),(0,n.jsx)("option",{value:"draft",children:"Draft"}),(0,n.jsx)("option",{value:"active",children:"Active"}),(0,n.jsx)("option",{value:"paused",children:"Paused"}),(0,n.jsx)("option",{value:"closed",children:"Closed"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,n.jsxs)("select",{value:z,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"all",children:"All Departments"}),Q.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsx)("div",{className:"flex items-end",children:(0,n.jsxs)(i.$,{variant:"outline",className:"w-full",children:[(0,n.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"More Filters"]})})]})}),(0,n.jsx)("div",{className:"grid gap-6",children:V.map(e=>(0,n.jsx)(a.Zp,{className:"hover:shadow-md transition-shadow",children:(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.title}),(0,n.jsx)(o.E,{className:I[e.status],children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(N.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:e.department})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(_.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:e.location})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(S.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:er(e.salary_min,e.salary_max,e.salary_currency)})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(j.A,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:[e.applications_count," applications"]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,n.jsx)("span",{children:O[e.employment_type]}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:F[e.work_mode]}),(0,n.jsx)("span",{children:"•"}),(0,n.jsxs)("span",{children:["Posted ",e.posted_date?new Date(e.posted_date).toLocaleDateString():"Not posted"]}),e.hiring_manager_name&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"•"}),(0,n.jsxs)("span",{children:["Hiring Manager: ",e.hiring_manager_name]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,n.jsx)(T(),{href:"/talent/pipeline/".concat(e.id),children:(0,n.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,n.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"Pipeline"]})}),(0,n.jsx)(T(),{href:"/talent/jobs/".concat(e.id),children:(0,n.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,n.jsx)(k.A,{className:"h-4 w-4 mr-1"}),"View"]})}),(0,n.jsx)(T(),{href:"/talent/jobs/".concat(e.id,"/edit"),children:(0,n.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,n.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"Edit"]})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{let t=document.getElementById("dropdown-".concat(e.id));t&&t.classList.toggle("hidden")},children:(0,n.jsx)(A.A,{className:"h-4 w-4"})}),(0,n.jsx)("div",{id:"dropdown-".concat(e.id),className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsxs)("button",{onClick:()=>ee("archive",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,n.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Archive"]}),(0,n.jsxs)("button",{onClick:()=>ee("duplicate",e),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,n.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),(0,n.jsxs)("button",{onClick:()=>ee("delete",e),className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[(0,n.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]})]})]})})},e.id))}),0===V.length&&(0,n.jsx)(a.Zp,{children:(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(N.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs found"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:U||"all"!==M||"all"!==z?"Try adjusting your filters to see more results.":"Get started by posting your first job."}),!U&&"all"===M&&"all"===z&&(0,n.jsx)(T(),{href:"/talent/jobs/new",children:(0,n.jsxs)(i.$,{children:[(0,n.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Post New Job"]})})]})}),(0,n.jsx)(c,{open:X,onOpenChange:Y,children:(0,n.jsxs)(d,{children:[(0,n.jsxs)(u,{children:[(0,n.jsx)(m,{children:"Archive Job"}),(0,n.jsxs)(h,{children:['Are you sure you want to archive "',null==B?void 0:B.title,'"? This will close the job and stop accepting new applications.']})]}),(0,n.jsxs)(x,{children:[(0,n.jsx)(p,{onClick:()=>Y(!1),children:"Cancel"}),(0,n.jsx)(g,{onClick:et,children:"Archive Job"})]})]})}),(0,n.jsx)(c,{open:Z,onOpenChange:K,children:(0,n.jsxs)(d,{children:[(0,n.jsxs)(u,{children:[(0,n.jsx)(m,{children:"Delete Job"}),(0,n.jsxs)(h,{children:['Are you sure you want to permanently delete "',null==B?void 0:B.title,'"? This action cannot be undone and will remove all associated applications.']})]}),(0,n.jsxs)(x,{children:[(0,n.jsx)(p,{onClick:()=>K(!1),children:"Cancel"}),(0,n.jsx)(g,{onClick:es,children:"Delete Job"})]})]})})]})})}},2814:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var n=s(5155),r=s(2115),a=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="default",...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{"border-transparent bg-blue-600 text-white hover:bg-blue-700":"default"===r,"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===r,"border-transparent bg-red-600 text-white hover:bg-red-700":"destructive"===r,"text-gray-950 border-gray-200 bg-white hover:bg-gray-50":"outline"===r},s),...i})});i.displayName="Badge"},3741:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var n=s(5155),r=s(2115),a=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="default",size:i="default",...l}=e;return(0,n.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"default"===r,"bg-red-600 text-white hover:bg-red-700":"destructive"===r,"border border-gray-300 bg-white hover:bg-gray-50":"outline"===r,"bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===r,"hover:bg-gray-100":"ghost"===r,"text-blue-600 underline-offset-4 hover:underline":"link"===r},{"h-10 px-4 py-2":"default"===i,"h-9 rounded-md px-3":"sm"===i,"h-11 rounded-md px-8":"lg"===i,"h-10 w-10":"icon"===i},s),ref:t,...l})});i.displayName="Button"},3915:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var n=s(5155),r=s(2115),a=s(9434);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,n.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},7178:(e,t,s)=>{Promise.resolve().then(s.bind(s,158))},7737:(e,t,s)=>{"use strict";s.d(t,{Ku:()=>c,TenantProvider:()=>o,un:()=>u,wz:()=>d});var n=s(5155),r=s(2115),a=s(2099),i=s(7020);let l=(0,r.createContext)(void 0);function o(e){let{children:t}=e,{user:s,tenantUser:o,isAuthenticated:c,isDemoMode:d}=(0,i.h)(),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0),f={id:"99883779-9517-4ca9-a3f8-7fdc59051f0e",name:"Demo Company",domain:"demo.company.com",status:"active",subscription_plan:"professional",subscription_start_date:new Date().toISOString(),max_users:25,current_users:5,settings:{},tenant_id:"99883779-9517-4ca9-a3f8-7fdc59051f0e",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},b=async()=>{if(d){x([f]),m(f),p(!1);return}if(!c||!s){x([]),m(null),p(!1);return}try{if((null==o?void 0:o.role)==="host_admin"){let{data:e,error:t}=await a.ND.from("tenants").select("*").order("name");if(t)throw t;x(e||[]);let s=(null==e?void 0:e[0])||null;m(s)}else{let{data:e,error:t}=await a.ND.from("tenant_users").select("tenant_id").eq("user_id",s.id).eq("is_active",!0);if(t)throw t;if(e&&e.length>0){let t=e.map(e=>e.tenant_id),{data:s,error:n}=await a.ND.from("tenants").select("*").in("id",t).order("name");if(n)throw n;x(s||[]);let r=(null==s?void 0:s.find(e=>e.id===(null==o?void 0:o.tenant_id)))||(null==s?void 0:s[0])||null;m(r)}else x([]),m(null)}}catch(e){console.error("Error loading tenants:",e),x([]),m(null)}finally{p(!1)}};return(0,r.useEffect)(()=>{b()},[c,s,o,d]),(0,n.jsx)(l.Provider,{value:{selectedTenant:u,setSelectedTenant:m,availableTenants:h,isLoading:g,loadAvailableTenants:b,canSelectTenant:()=>!d&&((null==o?void 0:o.role)==="host_admin"||(null==o?void 0:o.role)==="program_manager"),getAllAccessibleTenantIds:()=>d?[f.id]:h.map(e=>e.id),isMultiTenant:()=>h.length>1,isDemoMode:d},children:t})}function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTenant must be used within a TenantProvider");return e}function d(){let{getAllAccessibleTenantIds:e}=c();return e()}function u(){let{isMultiTenant:e,selectedTenant:t,availableTenants:s}=c();return{isMultiTenant:e(),selectedTenant:t,availableTenants:s}}}},e=>{var t=t=>e(e.s=t);e.O(0,[7590,2354,675,2099,4660,4619,8441,1684,7358],()=>t(7178)),_N_E=e.O()}]);