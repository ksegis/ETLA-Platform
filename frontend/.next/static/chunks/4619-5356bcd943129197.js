"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4619],{858:(e,a,t)=>{t.d(a,{A:()=>L});var r=t(5155),s=t(2115),n=t(5695),l=t(2099),o=t(9356),i=t(9169),c=t(1838),d=t(403),m=t(5639),x=t(178),h=t(3376),g=t(2540),u=t(9076),f=t(7128),p=t(2550),y=t(8604),b=t(3388),N=t(502),v=t(8208),j=t(3408),w=t(2539),A=t(7691),C=t(1478),k=t(4139),S=t(7159),D=t(4821),E=t(5915),R=t(8505),P=t(518),M=t(6784),T=t(477),_=t(782);function L(e){var a,t;let{children:L}=e,[U,z]=(0,s.useState)(!1),[B,F]=(0,s.useState)(!1),[H,O]=(0,s.useState)(null),[q,I]=(0,s.useState)(["operations","data-library"]),W=(0,n.useRouter)(),Z=(0,n.usePathname)(),J=[{id:"operations",title:"Operations",icon:o.A,color:"text-blue-600",bgColor:"bg-blue-600",hoverColor:"hover:bg-blue-50",textColor:"text-blue-900",defaultExpanded:!0,items:[{name:"Work Requests",href:"/work-requests",icon:o.A},{name:"Project Management",href:"/project-management",icon:i.A},{name:"Job Management",href:"/jobs-enhanced",icon:c.A},{name:"Employee Data Processing",href:"/employees",icon:d.A}]},{id:"data-library",title:"Data Library",icon:m.A,color:"text-green-600",bgColor:"bg-green-600",hoverColor:"hover:bg-green-50",textColor:"text-green-900",items:[{name:"ETL Dashboard",href:"/dashboard",icon:m.A},{name:"HR Analytics Dashboard",href:"/historical-dashboard",icon:x.A,isNew:!0},{name:"Reporting",href:"/reporting",icon:h.A},{name:"Data Analytics",href:"/analytics",icon:g.A},{name:"Audit Trail",href:"/audit",icon:u.A}]},{id:"data-management",title:"Data Management",icon:g.A,color:"text-indigo-600",bgColor:"bg-indigo-600",hoverColor:"hover:bg-indigo-50",textColor:"text-indigo-900",items:[{name:"File Upload",href:"/upload",icon:f.A},{name:"Data Validation",href:"/validation",icon:p.A},{name:"System Health",href:"/system-health",icon:y.A}]},{id:"configuration",title:"Configuration",icon:b.A,color:"text-purple-600",bgColor:"bg-purple-600",hoverColor:"hover:bg-purple-50",textColor:"text-purple-900",items:[{name:"System Settings",href:"/settings",icon:b.A},{name:"API Configuration",href:"/api-config",icon:N.A},{name:"Integration Settings",href:"/integrations",icon:v.A}]},{id:"administration",title:"Administration",icon:j.A,color:"text-orange-600",bgColor:"bg-orange-600",hoverColor:"hover:bg-orange-50",textColor:"text-orange-900",items:[{name:"Access Control",href:"/access-control",icon:j.A},{name:"Tenant Management",href:"/admin/tenant-management",icon:w.A},{name:"Employee Directory",href:"/employee-directory",icon:d.A},{name:"Benefits Management",href:"/benefits",icon:w.A},{name:"Payroll Management",href:"/payroll",icon:A.A}]}];(0,s.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await l.ND.auth.getUser();O(e)}catch(e){console.log("Supabase not available, using demo user"),O({email:"demo@company.com"})}})(),(async()=>{try{let{data:{subscription:e}}=l.ND.auth.onAuthStateChange((e,a)=>{O((null==a?void 0:a.user)||null)});return()=>e.unsubscribe()}catch(e){return console.log("Supabase auth listener not available"),()=>{}}})();let e=e=>{e.target.closest(".profile-dropdown")||F(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let Q=async()=>{try{await l.ND.auth.signOut(),W.push("/login")}catch(e){console.log("Supabase sign out not available, redirecting to login"),W.push("/login")}},V=e=>{I(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},$=e=>Z===e,G=()=>{for(let e of J)if(e.items.some(e=>e.href===Z))return e.id;return null};return(0,s.useEffect)(()=>{let e=G();e&&!q.includes(e)&&I(a=>[...a,e])},[Z]),(0,r.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[U&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>z(!1)})}),(0,r.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ".concat(U?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 flex-shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(C.A,{className:"h-8 w-8 text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"ETLA"})]}),(0,r.jsx)("button",{onClick:()=>z(!1),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,r.jsx)(k.A,{className:"h-6 w-6"})})]}),(0,r.jsx)("div",{className:"p-4 border-b border-gray-200 flex-shrink-0",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(S.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search navigation...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-3 overflow-y-auto",children:J.map(e=>{let a=q.includes(e.id),t=e.icon;return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("button",{onClick:()=>V(e.id),className:"w-full flex items-center justify-between px-3 py-3 text-sm font-bold rounded-lg transition-all duration-200 ".concat(e.color," ").concat(e.hoverColor," border border-gray-100 shadow-sm"),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(t,{className:"h-5 w-5 mr-3"}),(0,r.jsx)("span",{className:"font-semibold",children:e.title})]}),(0,r.jsx)("div",{className:"transition-transform duration-200",children:a?(0,r.jsx)(D.A,{className:"h-4 w-4"}):(0,r.jsx)(E.A,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:"transition-all duration-300 ease-in-out overflow-hidden ".concat(a?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,r.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-gray-100 space-y-1 pt-2",children:e.items.map(a=>{let t=a.icon,s=$(a.href);return(0,r.jsxs)("a",{href:a.href,className:"flex items-center px-3 py-2 text-sm rounded-md transition-all duration-200 ".concat(s?"".concat(e.bgColor," text-white shadow-md"):"text-gray-700 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"),children:[(0,r.jsx)(t,{className:"h-4 w-4 mr-3"}),(0,r.jsx)("span",{className:"flex-1",children:a.name}),a.isNew&&(0,r.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"New"}),a.badge&&(0,r.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:a.badge})]},a.name)})})})]},e.id)})}),(0,r.jsx)("div",{className:"border-t border-gray-200 p-4 flex-shrink-0",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:(null==H||null==(a=H.email)?void 0:a.charAt(0).toUpperCase())||"U"})})}),(0,r.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null==H?void 0:H.email)||"demo@company.com"}),(0,r.jsxs)("button",{onClick:Q,className:"text-xs text-gray-500 hover:text-gray-700 flex items-center",children:[(0,r.jsx)(R.A,{className:"h-3 w-3 mr-1"}),"Sign out"]})]})]})})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-6",children:[(0,r.jsx)("button",{onClick:()=>z(!0),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,r.jsx)(P.A,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,r.jsx)(M.A,{className:"h-6 w-6"})}),(0,r.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>F(!B),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200 hover:border-gray-300",children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,r.jsx)(T.A,{className:"h-4 w-4 text-white"})}),(0,r.jsxs)("div",{className:"flex flex-col items-start",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Profile"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:(null==H?void 0:H.email)||"demo@company.com"})]}),(0,r.jsx)(D.A,{className:"h-4 w-4 text-gray-400 ml-2"})]}),B&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50 profile-dropdown",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null==H?void 0:H.email)||"demo@company.com"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:(null==H||null==(t=H.user_metadata)?void 0:t.full_name)||"User Account"})]}),(0,r.jsxs)("a",{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>F(!1),children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile Settings"]}),(0,r.jsxs)("a",{href:"/profile#security",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>F(!1),children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-3 text-gray-400"}),"Security & MFA"]}),(0,r.jsxs)("a",{href:"/reset-password",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>F(!1),children:[(0,r.jsx)(_.A,{className:"h-4 w-4 mr-3 text-gray-400"}),"Change Password"]}),(0,r.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,r.jsxs)("button",{onClick:()=>{F(!1),Q()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,r.jsx)(R.A,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})})]})]})]})}),(0,r.jsx)("main",{className:"flex-1 overflow-auto",children:L})]})]})}},7703:(e,a,t)=>{t.d(a,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o});var r=t(5155),s=t(2115),n=t(9434);let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",t),...s})});l.displayName="Card";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-gray-500",t),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},9434:(e,a,t)=>{t.d(a,{cn:()=>n});var r=t(2596),s=t(9688);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}}}]);