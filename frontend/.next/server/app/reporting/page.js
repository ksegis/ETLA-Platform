(()=>{var e={};e.id=747,e.ids=[747],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1170:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var a=r(687),s=r(3210),l=r(4780);let n=s.forwardRef(({className:e,variant:t="default",...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{"border-transparent bg-blue-600 text-white hover:bg-blue-700":"default"===t,"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===t,"border-transparent bg-red-600 text-white hover:bg-red-700":"destructive"===t,"text-gray-950 border-gray-200 bg-white hover:bg-gray-50":"outline"===t},e),...r}));n.displayName="Badge"},1630:e=>{"use strict";e.exports=require("http")},1907:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(687),s=r(3210),l=r(4780);let n=s.forwardRef(({className:e,type:t,...r},s)=>(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Input"},1997:e=>{"use strict";e.exports=require("punycode")},2643:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var a=r(687),s=r(3210),l=r(4780);let n=s.forwardRef(({className:e,variant:t="default",size:r="default",...s},n)=>(0,a.jsx)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"default"===t,"bg-red-600 text-white hover:bg-red-700":"destructive"===t,"border border-gray-300 bg-white hover:bg-gray-50":"outline"===t,"bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===t,"hover:bg-gray-100":"ghost"===t,"text-blue-600 underline-offset-4 hover:underline":"link"===t},{"h-10 px-4 py-2":"default"===r,"h-9 rounded-md px-3":"sm"===r,"h-11 rounded-md px-8":"lg"===r,"h-10 w-10":"icon"===r},e),ref:n,...s}));n.displayName="Button"},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4417:(e,t,r)=>{Promise.resolve().then(r.bind(r,9803))},4780:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(9384),s=r(2348);function l(...e){return(0,s.QP)((0,a.$)(e))}},5591:e=>{"use strict";e.exports=require("https")},7910:e=>{"use strict";e.exports=require("stream")},7969:(e,t,r)=>{Promise.resolve().then(r.bind(r,9273))},8749:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=r(687),s=r(3210),l=r(4780);let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));n.displayName="Card";let i=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-gray-500",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9273:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/ETLA-Platform/frontend/src/app/reporting/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/ETLA-Platform/frontend/src/app/reporting/page.tsx","default")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9803:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(687),s=r(3210),l=r(3732),n=r(1523);r(6391);var i=r(8749),o=r(2643),d=r(1907),c=r(1170);function m(){let{user:e}=(0,l.h)(),{selectedTenant:t}=(0,n.K)(),[r,m]=(0,s.useState)("employees"),[p,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(""),[y,f]=(0,s.useState)([]),[j,v]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[R,k]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[_,T]=(0,s.useState)({dateRange:{start:"",end:""},department:"",employeeStatus:"",location:"",jobTitle:"",payType:"",salaryRange:{min:"",max:""}}),A=(e,t)=>{if(!e.length)return;let r=Object.keys(e[0]),a=new Blob([[r.join(","),...e.map(e=>r.map(t=>`"${e[t]||""}"`).join(","))].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=t,l.click(),window.URL.revokeObjectURL(s)},P=(e,t)=>{let r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,s.click(),window.URL.revokeObjectURL(a)},L=(()=>{switch(r){case"employees":return y;case"checks":return j;case"jobs":return N;case"salary":return R;case"timecards":return C;case"all-reports":return{employees:y,checks:j,jobs:N,salary:R,timecards:C};default:return[]}})(),E=Array.isArray(L)?Array.isArray(L)?L.filter(e=>{if(g&&!["employee_name","employee_code","position","home_department","employment_status"].some(t=>e[t]?.toString().toLowerCase().includes(g.toLowerCase()))||_.department&&e.home_department!==_.department||_.employeeStatus&&e.employment_status!==_.employeeStatus||_.location&&e.work_location!==_.location||_.jobTitle&&!e.position?.toLowerCase().includes(_.jobTitle.toLowerCase())||_.payType&&e.pay_type!==_.payType||_.salaryRange.min&&e.pay_period_salary<parseFloat(_.salaryRange.min)||_.salaryRange.max&&e.pay_period_salary>parseFloat(_.salaryRange.max))return!1;if(_.dateRange.start||_.dateRange.end){let t=new Date(e.created_at||e.pay_date||e.work_date);if(_.dateRange.start&&t<new Date(_.dateRange.start)||_.dateRange.end&&t>new Date(_.dateRange.end))return!1}return!0}):[]:L,q=[{id:"employees",label:"Employees",icon:"\uD83D\uDC65"},{id:"checks",label:"Checks",icon:"\uD83D\uDCB0"},{id:"jobs",label:"Jobs",icon:"\uD83D\uDCBC"},{id:"salary",label:"Salary",icon:"\uD83D\uDCB5"},{id:"timecards",label:"Timecards",icon:"⏰"},{id:"all-reports",label:"All Reports",icon:"\uD83D\uDCCA"}];return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Comprehensive Reporting System"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Generate detailed reports and extract data across all categories"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:q.map(e=>(0,a.jsxs)("button",{onClick:()=>m(e.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${r===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,a.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})})}),(0,a.jsx)(i.Zp,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Extraction Filters"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,a.jsx)(d.p,{type:"text",placeholder:"Search records...",value:g,onChange:e=>b(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)(d.p,{type:"date",value:_.dateRange.start,onChange:e=>T(t=>({...t,dateRange:{...t.dateRange,start:e.target.value}}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)(d.p,{type:"date",value:_.dateRange.end,onChange:e=>T(t=>({...t,dateRange:{...t.dateRange,end:e.target.value}}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,a.jsx)(d.p,{type:"text",placeholder:"Department",value:_.department,onChange:e=>T(t=>({...t,department:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Status"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:_.employeeStatus,onChange:e=>T(t=>({...t,employeeStatus:e.target.value})),children:[(0,a.jsx)("option",{value:"",children:"All Statuses"}),(0,a.jsx)("option",{value:"Active",children:"Active"}),(0,a.jsx)("option",{value:"Terminated",children:"Terminated"}),(0,a.jsx)("option",{value:"On Leave",children:"On Leave"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,a.jsx)(d.p,{type:"text",placeholder:"Work Location",value:_.location,onChange:e=>T(t=>({...t,location:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),(0,a.jsx)(d.p,{type:"text",placeholder:"Position",value:_.jobTitle,onChange:e=>T(t=>({...t,jobTitle:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pay Type"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:_.payType,onChange:e=>T(t=>({...t,payType:e.target.value})),children:[(0,a.jsx)("option",{value:"",children:"All Types"}),(0,a.jsx)("option",{value:"salary",children:"Salary"}),(0,a.jsx)("option",{value:"hourly",children:"Hourly"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Salary"}),(0,a.jsx)(d.p,{type:"number",placeholder:"Minimum salary",value:_.salaryRange.min,onChange:e=>T(t=>({...t,salaryRange:{...t.salaryRange,min:e.target.value}}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Salary"}),(0,a.jsx)(d.p,{type:"number",placeholder:"Maximum salary",value:_.salaryRange.max,onChange:e=>T(t=>({...t,salaryRange:{...t.salaryRange,max:e.target.value}}))})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(o.$,{onClick:()=>T({dateRange:{start:"",end:""},department:"",employeeStatus:"",location:"",jobTitle:"",payType:"",salaryRange:{min:"",max:""}}),variant:"outline",children:"Clear Filters"}),Array.isArray(E)&&E.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.$,{onClick:()=>A(E,`${r}_report.csv`),variant:"outline",children:"Export CSV"}),(0,a.jsx)(o.$,{onClick:()=>P(E,`${r}_report.json`),variant:"outline",children:"Export JSON"})]})]})]})}),u&&(0,a.jsx)(i.Zp,{className:"mb-6",children:(0,a.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("span",{className:"text-red-400",children:"⚠️"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Data"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,a.jsx)("p",{children:u})})]})]})})}),p&&(0,a.jsx)(i.Zp,{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Loading ",r," data..."]})]})}),!p&&!u&&(0,a.jsx)(i.Zp,{children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:[q.find(e=>e.id===r)?.label," Report"]}),(0,a.jsxs)(c.E,{variant:"secondary",children:[Array.isArray(E)?E.length:"Multiple"," records"]})]}),Array.isArray(E)&&E.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:Object.keys(E[0]).map(e=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.replace(/_/g," ")},e))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map((e,t)=>(0,a.jsx)("tr",{className:"hover:bg-gray-50",children:Object.values(e).map((e,t)=>(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e?.toString()||"-"},t))},t))})]})}):"all-reports"===r&&"object"==typeof E?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900",children:"Employees"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:E.employees?.length||0})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-green-900",children:"Pay Statements"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:E.checks?.length||0})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-purple-900",children:"Job Categories"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:E.jobs?.length||0})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-yellow-900",children:"Salary Records"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:E.salary?.length||0})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-red-900",children:"Timecards"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:E.timecards?.length||0})]})]})}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available for the selected filters."})})]})})]})}},9811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(5239),s=r(8088),l=r(8170),n=r.n(l),i=r(893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d={children:["",{children:["reporting",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9273)),"/home/ubuntu/ETLA-Platform/frontend/src/app/reporting/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"/home/ubuntu/ETLA-Platform/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/ubuntu/ETLA-Platform/frontend/src/app/reporting/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/reporting/page",pathname:"/reporting",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[197,69,897],()=>r(9811));module.exports=a})();