(()=>{var e={};e.id=520,e.ids=[520],e.modules={597:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19377).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},2643:(e,r,s)=>{"use strict";s.d(r,{$:()=>n});var t=s(60687),a=s(43210),i=s(4780);let n=a.forwardRef(({className:e,variant:r="default",size:s="default",...a},n)=>(0,t.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"default"===r,"bg-red-600 text-white hover:bg-red-700":"destructive"===r,"border border-gray-300 bg-white hover:bg-gray-50":"outline"===r,"bg-gray-100 text-gray-900 hover:bg-gray-200":"secondary"===r,"hover:bg-gray-100":"ghost"===r,"text-blue-600 underline-offset-4 hover:underline":"link"===r},{"h-10 px-4 py-2":"default"===s,"h-9 rounded-md px-3":"sm"===s,"h-11 rounded-md px-8":"lg"===s,"h-10 w-10":"icon"===s},e),ref:n,...a}));n.displayName="Button"},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4780:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(49384),a=s(82348);function i(...e){return(0,a.QP)((0,t.$)(e))}},9362:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19377).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},9422:(e,r,s)=>{Promise.resolve().then(s.bind(s,94934))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},16189:(e,r,s)=>{"use strict";var t=s(65773);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28749:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o});var t=s(60687),a=s(43210),i=s(4780);let n=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...r}));n.displayName="Card";let o=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-gray-500",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},53106:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19377).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},55591:e=>{"use strict";e.exports=require("https")},56299:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(65239),a=s(48088),i=s(88170),n=s.n(i),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94934)),"/home/ubuntu/ETLA-Platform/frontend/src/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/ubuntu/ETLA-Platform/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/ubuntu/ETLA-Platform/frontend/src/app/login/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69488:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(60687),a=s(43210),i=s(16189),n=s(2643),o=s(28749),l=s(597),d=s(83458),c=s(80411),u=s(78520),m=s(9362),x=s(53106),g=s(13732),h=s(16391);function p(){let e=(0,i.useRouter)();(0,i.useSearchParams)();let{signIn:r}=(0,g.h)(),[s,p]=(0,a.useState)({email:"",password:"",isLoading:!1,error:"",resetEmail:"",isResetLoading:!1,resetError:"",resetSuccess:!1,activeTab:"login",isGoogleLoading:!1}),b=async t=>{t.preventDefault(),p(e=>({...e,isLoading:!0,error:""}));try{console.log(`Attempting login with: ${s.email}`);let{error:t}=await r(s.email,s.password);t?(console.error("Login error:",t),p(e=>({...e,isLoading:!1,error:`Login failed: ${t.message}`}))):(console.log("Login successful, redirecting..."),e.push("/work-requests"))}catch(e){console.error("Login exception:",e),p(r=>({...r,isLoading:!1,error:`Login error: ${e.message||"Unknown error"}`}))}},f=async()=>{p(e=>({...e,isGoogleLoading:!0,error:""}));try{let{error:e}=await h.ND.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});e&&(console.error("Google sign-in error:",e),p(r=>({...r,isGoogleLoading:!1,error:`Google sign-in failed: ${e.message}`})))}catch(e){console.error("Google sign-in exception:",e),p(r=>({...r,isGoogleLoading:!1,error:`Google sign-in error: ${e.message||"Unknown error"}`}))}},y=async e=>{e.preventDefault(),p(e=>({...e,isResetLoading:!0,resetError:"",resetSuccess:!1}));try{let{error:e}=await h.ND.auth.resetPasswordForEmail(s.resetEmail,{redirectTo:`${window.location.origin}/reset-password`});e?p(r=>({...r,isResetLoading:!1,resetError:e.message})):p(e=>({...e,isResetLoading:!1,resetSuccess:!0}))}catch(e){p(r=>({...r,isResetLoading:!1,resetError:e.message||"Failed to send reset email"}))}},j=e=>{p(r=>({...r,activeTab:e,error:"",resetError:"",resetSuccess:!1}))};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"HelixBridge"}),(0,t.jsx)("p",{className:"text-gray-600",children:"login"===s.activeTab?"Sign in to access your account":"Reset your password"})]}),(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,t.jsxs)("button",{onClick:()=>j("login"),className:`flex-1 py-3 px-4 text-sm font-medium text-center border-b-2 transition-colors ${"login"===s.activeTab?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,t.jsx)(l.A,{className:"h-4 w-4 inline mr-2"}),"Sign In"]}),(0,t.jsxs)("button",{onClick:()=>j("forgot"),className:`flex-1 py-3 px-4 text-sm font-medium text-center border-b-2 transition-colors ${"forgot"===s.activeTab?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[(0,t.jsx)(d.A,{className:"h-4 w-4 inline mr-2"}),"Forgot Password"]})]}),"login"===s.activeTab&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.A,{className:"h-5 w-5"}),"Sign In"]}),(0,t.jsx)(o.BT,{children:"Enter your credentials to access the platform"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(n.$,{type:"button",variant:"outline",onClick:f,disabled:s.isGoogleLoading||s.isLoading,className:"w-full",children:s.isGoogleLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"h-4 w-4 animate-spin mr-2"}),"Connecting to Google..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})}),(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:s.email,onChange:e=>p(r=>({...r,email:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",disabled:s.isLoading||s.isGoogleLoading})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:s.password,onChange:e=>p(r=>({...r,password:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",disabled:s.isLoading||s.isGoogleLoading})]}),s.error&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700",children:s.error})]}),(0,t.jsx)(n.$,{type:"submit",disabled:s.isLoading||s.isGoogleLoading,className:"w-full",children:s.isLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"h-4 w-4 animate-spin mr-2"}),"Signing in..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Sign In"]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>j("forgot"),className:"text-sm text-blue-600 hover:text-blue-500",disabled:s.isLoading||s.isGoogleLoading,children:"Forgot your password?"})})]})]})]}),"forgot"===s.activeTab&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),"Reset Password"]}),(0,t.jsx)(o.BT,{children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,t.jsx)(o.Wu,{children:s.resetSuccess?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(m.A,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your email"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["We've sent a password reset link to ",(0,t.jsx)("strong",{children:s.resetEmail})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."})]}),(0,t.jsx)(n.$,{onClick:()=>p(e=>({...e,resetSuccess:!1,resetEmail:""})),variant:"outline",className:"w-full",children:"Send another email"}),(0,t.jsx)(n.$,{onClick:()=>j("login"),className:"w-full",children:"Back to Sign In"})]}):(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,t.jsx)("input",{id:"resetEmail",type:"email",value:s.resetEmail,onChange:e=>p(r=>({...r,resetEmail:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email address",disabled:s.isResetLoading})]}),s.resetError&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700",children:s.resetError})]}),(0,t.jsx)(n.$,{type:"submit",disabled:s.isResetLoading,className:"w-full",children:s.isResetLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"h-4 w-4 animate-spin mr-2"}),"Sending reset link..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Send Reset Link"]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>j("login"),className:"text-sm text-blue-600 hover:text-blue-500",disabled:s.isResetLoading,children:"Back to Sign In"})})]})})]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"\xa9 2024 HelixBridge. All rights reserved."})})]})})}function b(){return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})})}function f(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(b,{}),children:(0,t.jsx)(p,{})})}},72470:(e,r,s)=>{Promise.resolve().then(s.bind(s,69488))},74075:e=>{"use strict";e.exports=require("zlib")},78520:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19377).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},79551:e=>{"use strict";e.exports=require("url")},80411:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19377).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},81630:e=>{"use strict";e.exports=require("http")},83458:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19377).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},94934:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/ETLA-Platform/frontend/src/app/login/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/ETLA-Platform/frontend/src/app/login/page.tsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,197,147,897],()=>s(56299));module.exports=t})();