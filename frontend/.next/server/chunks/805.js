exports.id=805,exports.ids=[805],exports.modules={1135:()=>{},1444:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},1635:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>o,Jj:()=>A,Sk:()=>i}),r(687);var E=r(3732),n=r(3210);let o={MIGRATION_WORKBENCH:"migration-workbench",FILE_UPLOAD:"file-upload",DATA_VALIDATION:"data-validation",EMPLOYEE_DATA_PROCESSING:"employee-data-processing",PROJECT_MANAGEMENT:"project-management",WORK_REQUESTS:"work-requests",PROJECT_CHARTER:"project-charter",RISK_MANAGEMENT:"risk-management",RESOURCE_MANAGEMENT:"resource-management",REPORTING:"reporting",DASHBOARDS:"dashboards",ANALYTICS:"analytics",HISTORICAL_DATA:"historical-data",USER_MANAGEMENT:"user-management",ACCESS_CONTROL:"access-control",TENANT_MANAGEMENT:"tenant-management",SYSTEM_SETTINGS:"system-settings",AUDIT_LOGS:"audit-logs",BENEFITS_MANAGEMENT:"benefits-management",PAYROLL_PROCESSING:"payroll-processing",EMPLOYEE_RECORDS:"employee-records"},A={VIEW:"view",CREATE:"create",UPDATE:"update",DELETE:"delete",MANAGE:"manage",APPROVE:"approve",EXPORT:"export",IMPORT:"import"},s={TENANT:"tenant"};function i(){let{user:e,tenantUser:t,isAuthenticated:r,isDemoMode:i}=(0,E.As)(),[a,N]=(0,n.useState)([]),[T,d]=(0,n.useState)(!0),R=(e,E,n=s.TENANT)=>!!i||!!r&&!!t&&("host_admin"===t.role||a.some(t=>t.feature===e&&t.permission===E)),l=e=>!!i||!!r&&!!t&&("host_admin"===t.role||a.some(t=>t.feature===e)),u=e=>R(e,A.CREATE)||R(e,A.MANAGE),G=e=>R(e,A.UPDATE)||R(e,A.MANAGE),S=e=>R(e,A.DELETE)||R(e,A.MANAGE),M=e=>R(e,A.VIEW)||R(e,A.MANAGE)||u(e)||G(e),c=e=>R(e,A.MANAGE),_=e=>R(e,A.APPROVE)||R(e,A.MANAGE),m=e=>R(e,A.EXPORT)||R(e,A.MANAGE),I=()=>!!r&&!!t&&["host_admin","client_admin"].includes(t.role),O=()=>!!r&&!!t&&"host_admin"===t.role,h=()=>R(o.USER_MANAGEMENT,A.MANAGE),v=()=>l(o.ACCESS_CONTROL)||l(o.USER_MANAGEMENT)||l(o.SYSTEM_SETTINGS);return{hasPermission:R,canAccessFeature:l,getPermissionLevel:e=>i?[A.MANAGE]:r&&t?"host_admin"===t.role?[A.MANAGE]:a.filter(t=>t.feature===e).map(e=>e.permission):[],canCreate:u,canUpdate:G,canDelete:S,canView:M,canManage:c,canApprove:_,canExport:m,canImport:e=>R(e,A.IMPORT)||R(e,A.MANAGE),getAccessibleFeatures:()=>i?Object.values(o):r&&t?"host_admin"===t.role?Object.values(o):Array.from(new Set(a.map(e=>e.feature))):[],getUserPermissions:()=>({workRequests:{view:M(o.WORK_REQUESTS),create:u(o.WORK_REQUESTS),update:G(o.WORK_REQUESTS),approve:_(o.WORK_REQUESTS)},projects:{view:M(o.PROJECT_MANAGEMENT),create:u(o.PROJECT_MANAGEMENT),update:G(o.PROJECT_MANAGEMENT),delete:S(o.PROJECT_MANAGEMENT)},risks:{view:M(o.RISK_MANAGEMENT),manage:c(o.RISK_MANAGEMENT)},users:{view:M(o.USER_MANAGEMENT),manage:h()},reports:{view:M(o.REPORTING),export:m(o.REPORTING)},admin:{access:v(),isAdmin:I(),isHostAdmin:O()}}),isAdmin:I,isHostAdmin:O,canManageUsers:h,canAccessAdmin:v,userPermissions:a,isLoading:T,isDemoMode:i,isAuthenticated:r,currentRole:t?.role,currentUserId:e?.id,currentTenantId:t?.tenant_id}}o.USER_MANAGEMENT,A.MANAGE,o.ACCESS_CONTROL,A.MANAGE,o.TENANT_MANAGEMENT,A.MANAGE,o.SYSTEM_SETTINGS,A.MANAGE,o.AUDIT_LOGS,A.VIEW,o.PROJECT_MANAGEMENT,A.MANAGE,o.WORK_REQUESTS,A.MANAGE,o.REPORTING,A.MANAGE,o.MIGRATION_WORKBENCH,A.MANAGE,o.BENEFITS_MANAGEMENT,A.MANAGE,o.PROJECT_MANAGEMENT,A.MANAGE,o.WORK_REQUESTS,A.MANAGE,o.PROJECT_CHARTER,A.MANAGE,o.RISK_MANAGEMENT,A.MANAGE,o.RESOURCE_MANAGEMENT,A.MANAGE,o.REPORTING,A.VIEW,o.DASHBOARDS,A.VIEW,o.ANALYTICS,A.VIEW,o.USER_MANAGEMENT,A.VIEW,o.MIGRATION_WORKBENCH,A.VIEW,o.DATA_VALIDATION,A.VIEW,o.USER_MANAGEMENT,A.MANAGE,o.ACCESS_CONTROL,A.VIEW,o.PROJECT_MANAGEMENT,A.MANAGE,o.WORK_REQUESTS,A.MANAGE,o.REPORTING,A.VIEW,o.DASHBOARDS,A.VIEW,o.BENEFITS_MANAGEMENT,A.MANAGE,o.EMPLOYEE_RECORDS,A.MANAGE,o.FILE_UPLOAD,A.CREATE,o.DATA_VALIDATION,A.VIEW,o.MIGRATION_WORKBENCH,A.VIEW,o.WORK_REQUESTS,A.CREATE,o.WORK_REQUESTS,A.VIEW,o.WORK_REQUESTS,A.UPDATE,o.PROJECT_MANAGEMENT,A.VIEW,o.REPORTING,A.VIEW,o.DASHBOARDS,A.VIEW,o.BENEFITS_MANAGEMENT,A.VIEW,o.FILE_UPLOAD,A.CREATE},3732:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>T,As:()=>d});var E=r(687),n=r(3210),o=r(9285),A=r(1635);class s extends Error{constructor(e,t,r,E){super(e),this.feature=t,this.permission=r,this.userRole=E,this.name="ServiceAuthError"}}let i={host_admin:["*"],program_manager:[`${A.Gv.PROJECT_MANAGEMENT}:${A.Jj.MANAGE}`,`${A.Gv.WORK_REQUESTS}:${A.Jj.MANAGE}`,`${A.Gv.PROJECT_CHARTER}:${A.Jj.MANAGE}`,`${A.Gv.RISK_MANAGEMENT}:${A.Jj.MANAGE}`,`${A.Gv.RESOURCE_MANAGEMENT}:${A.Jj.MANAGE}`,`${A.Gv.REPORTING}:${A.Jj.VIEW}`,`${A.Gv.DASHBOARDS}:${A.Jj.VIEW}`,`${A.Gv.ANALYTICS}:${A.Jj.VIEW}`,`${A.Gv.USER_MANAGEMENT}:${A.Jj.VIEW}`,`${A.Gv.MIGRATION_WORKBENCH}:${A.Jj.VIEW}`,`${A.Gv.DATA_VALIDATION}:${A.Jj.VIEW}`],client_admin:[`${A.Gv.USER_MANAGEMENT}:${A.Jj.MANAGE}`,`${A.Gv.ACCESS_CONTROL}:${A.Jj.VIEW}`,`${A.Gv.PROJECT_MANAGEMENT}:${A.Jj.MANAGE}`,`${A.Gv.WORK_REQUESTS}:${A.Jj.MANAGE}`,`${A.Gv.REPORTING}:${A.Jj.VIEW}`,`${A.Gv.DASHBOARDS}:${A.Jj.VIEW}`,`${A.Gv.BENEFITS_MANAGEMENT}:${A.Jj.MANAGE}`,`${A.Gv.EMPLOYEE_RECORDS}:${A.Jj.MANAGE}`,`${A.Gv.FILE_UPLOAD}:${A.Jj.CREATE}`,`${A.Gv.DATA_VALIDATION}:${A.Jj.VIEW}`,`${A.Gv.MIGRATION_WORKBENCH}:${A.Jj.VIEW}`],client_user:[`${A.Gv.WORK_REQUESTS}:${A.Jj.CREATE}`,`${A.Gv.WORK_REQUESTS}:${A.Jj.VIEW}`,`${A.Gv.WORK_REQUESTS}:${A.Jj.UPDATE}`,`${A.Gv.PROJECT_MANAGEMENT}:${A.Jj.VIEW}`,`${A.Gv.REPORTING}:${A.Jj.VIEW}`,`${A.Gv.DASHBOARDS}:${A.Jj.VIEW}`,`${A.Gv.BENEFITS_MANAGEMENT}:${A.Jj.VIEW}`,`${A.Gv.FILE_UPLOAD}:${A.Jj.CREATE}`]},a=(0,n.createContext)(void 0),N=(0,o.UU)("https://placeholder.supabase.co","placeholder_key");function T({children:e}){let[t,r]=(0,n.useState)(null),[o,A]=(0,n.useState)(null),[s,i]=(0,n.useState)(!0),[T,d]=(0,n.useState)(!1),[R,l]=(0,n.useState)({id:"54afbd1d-e72a-41e1-9d39-2c8a08a257ff",name:"Demo Company",slug:"demo-company",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),[u,G]=(0,n.useState)({id:"demo-tenant-user-id",tenant_id:"54afbd1d-e72a-41e1-9d39-2c8a08a257ff",user_id:"demo-user-id",role:"client_admin",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),S=!!t||!!o,M=t?.id||u?.user_id||null,c=R?.id||null,_=u?.role||null,m=()=>{},I=async(e,t)=>{try{let{error:r}=await N.auth.signInWithPassword({email:e,password:t});return{error:r}}catch(e){return console.error("❌ AuthProvider: Sign in error:",e),{error:e}}},O=async(e,t)=>{try{let{error:r}=await N.auth.signUp({email:e,password:t});return{error:r}}catch(e){return console.error("❌ AuthProvider: Sign up error:",e),{error:e}}},h=async()=>{console.log("\uD83D\uDD10 AuthProvider: Signing out"),await N.auth.signOut(),r(null),A(null),G({id:"demo-tenant-user-id",tenant_id:"54afbd1d-e72a-41e1-9d39-2c8a08a257ff",user_id:"demo-user-id",role:"client_admin",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),i(!1),d(!0),m()},v=async()=>{console.log("\uD83D\uDD04 AuthProvider: Refreshing tenant information")},P=async()=>{console.log("\uD83D\uDD04 AuthProvider: Refreshing session");try{let{data:{session:e},error:t}=await N.auth.refreshSession();t?console.error("❌ AuthProvider: Error refreshing session:",t):(A(e),e?.user&&r(e.user))}catch(e){console.error("❌ AuthProvider: Unexpected error refreshing session:",e)}};return(0,E.jsx)(a.Provider,{value:{user:t,tenant:R,tenantUser:u,session:o,loading:s,signIn:I,signUp:O,signOut:h,refreshTenant:v,refreshSession:P,isStable:T,isAuthenticated:S,isDemoMode:!1,currentUserId:M,currentTenantId:c,currentUserRole:_},children:e})}function d(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4180:(e,t,r)=>{Promise.resolve().then(r.bind(r,3732))},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A,metadata:()=>o});var E=r(7413),n=r(9131);r(1135);let o={title:"Invictus - ETLA - Extract Transform Load Audit",description:"Secure, scalable payroll and benefits ETL platform"};function A({children:e}){return(0,E.jsx)("html",{lang:"en",children:(0,E.jsx)("body",{children:(0,E.jsx)(n.AuthProvider,{children:e})})})}},8148:(e,t,r)=>{Promise.resolve().then(r.bind(r,9131))},8708:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},9131:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>n});var E=r(2907);(0,E.registerClientReference)(function(){throw Error("Attempted to call supabase() from the server but supabase is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/ETLA-Platform/frontend/src/contexts/AuthContext.tsx","supabase");let n=(0,E.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/ETLA-Platform/frontend/src/contexts/AuthContext.tsx","AuthProvider");(0,E.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/ETLA-Platform/frontend/src/contexts/AuthContext.tsx","useAuth"),(0,E.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/ETLA-Platform/frontend/src/contexts/AuthContext.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/ETLA-Platform/frontend/src/contexts/AuthContext.tsx","default")}};