# Phase 3 Proposal - ADDENDUM
## Platform Host UI, Portfolio Rollup, Navigation & RBAC

**Date:** November 20, 2025  
**Version:** 2.0 - Complete Solution Architecture

---

## Executive Summary

This addendum addresses three critical gaps in the original Phase 3 proposal:

1. **Platform Host UI for Project Updates** - Ensuring the project team can efficiently update project status, milestones, roadblocks, and health indicators
2. **Primary Customer Portfolio Rollup** - Providing a consolidated view of demand and status across ALL sub-client projects
3. **Navigation Structure & RBAC** - Defining where new functionality fits in the navigation and ensuring comprehensive role-based access control

---

## 1. Current System Analysis

### 1.1 Existing Navigation Structure

**Current Navigation Groups (from DashboardLayout.tsx):**

| Group ID | Title | Icon | Roles with Access |
|----------|-------|------|-------------------|
| `operations` | Operations | Briefcase | All roles |
| `talent-management` | Talent Management | Users2 | host_admin, program_manager, client_admin |
| `etl-cockpit` | ETL Cockpit | Database | host_admin, program_manager |
| `data-management` | Data Management | Database | host_admin, program_manager |
| `configuration` | Configuration | Settings | host_admin |
| `administration` | Administration | Shield | host_admin, client_admin |

**Current Operations Menu Items:**
- Work Requests (`/work-requests`)
- Project Management (`/project-management`)
- Reporting (`/reporting`)
- HR Analytics Dashboard (`/hr-analytics`)

### 1.2 Current RBAC Structure

**Roles:**
- `host_admin` - Platform Host administrators (ETLA) - Full access to all features
- `program_manager` - Platform Host program managers - Manage projects, work requests, view analytics
- `client_admin` - Primary Customer administrators (Tier 2) - Manage own users, view projects
- `client_user` - Primary Customer users (Tier 2) - Submit work requests, view dashboards
- `user` - Sub-Client users (Tier 3) - Submit work requests, view own data

**Current Features (from usePermissions.tsx):**
- `PROJECT_MANAGEMENT` - Project charter management
- `WORK_REQUESTS` - Work request submission and management
- `DASHBOARDS` - Analytics and reporting dashboards
- `USER_MANAGEMENT` - User and access control
- `TENANT_MANAGEMENT` - Tenant hierarchy management

**Current Permission Levels:**
- `view` - Read-only access
- `create` - Create new records
- `update` - Edit existing records
- `delete` - Remove records
- `manage` - Full CRUD access
- `approve` - Approval authority

---

## 2. Platform Host UI for Project Updates

### 2.1 Enhanced Project Management Page

**Location:** `/project-management` (existing page, enhanced)

**New Sections Added:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Project Management                        [+ New Project]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ [Project List View] (existing)                               â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Selected Project: Project Alpha - Alphies Marketing          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Project Health Status â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Current Status: [ğŸŸ¢ Green â–¼] [ğŸŸ¡ Yellow] [ğŸ”´ Red]      â”‚ â”‚
â”‚ â”‚ Explanation: ________________________________            â”‚ â”‚
â”‚ â”‚              ________________________________            â”‚ â”‚
â”‚ â”‚ Current Phase: [Design â–¼]                               â”‚ â”‚
â”‚ â”‚ Next Customer Action: ________________________          â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Budget Variance: [+5%] Timeline Variance: [0 days]      â”‚ â”‚
â”‚ â”‚ [Update Health Status]                                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Milestones â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ… Discovery Complete        Nov 1  [Completed]         â”‚ â”‚
â”‚ â”‚ âœ… Wireframes Approved       Nov 15 [Completed]         â”‚ â”‚
â”‚ â”‚ ğŸ”µ Concept Review            Dec 5  [In Progress]       â”‚ â”‚
â”‚ â”‚    [Edit] [Mark Complete] [Add Deliverable]             â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ [+ Add Milestone]                                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Roadblocks & Issues â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”´ Critical: Design Resource Unavailable                â”‚ â”‚
â”‚ â”‚    Status: [In Progress â–¼]                              â”‚ â”‚
â”‚ â”‚    Resolution Plan: Backup designer assigned            â”‚ â”‚
â”‚ â”‚    Target Date: Dec 8, 2025                             â”‚ â”‚
â”‚ â”‚    [Edit] [Mark Resolved]                               â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ [+ Add Roadblock]                                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Status Updates (Activity Feed) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [+ Create Status Update]                                 â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Update Type: [Milestone Completed â–¼]                    â”‚ â”‚
â”‚ â”‚ Title: _____________________________________            â”‚ â”‚
â”‚ â”‚ Description: ________________________________           â”‚ â”‚
â”‚ â”‚              ________________________________           â”‚ â”‚
â”‚ â”‚ Customer Visible: [âœ“] Yes [ ] Internal Only             â”‚ â”‚
â”‚ â”‚ [Post Update]                                            â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ Recent Updates:                                          â”‚ â”‚
â”‚ â”‚ â€¢ Wireframes approved by stakeholders (2 hours ago)     â”‚ â”‚
â”‚ â”‚ â€¢ Design concepts uploaded for review (1 day ago)       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Deliverables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“„ Design Concepts v2.pdf                               â”‚ â”‚
â”‚ â”‚    Due: Dec 3 | Status: [In Review â–¼]                   â”‚ â”‚
â”‚ â”‚    [Edit] [Upload File] [Mark Complete]                 â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ [+ Add Deliverable]                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Customer-Visible Risks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš ï¸ High: Third-party API integration delay risk         â”‚ â”‚
â”‚ â”‚    Customer Visible: [âœ“] Show to customer               â”‚ â”‚
â”‚ â”‚    Mitigation: Parallel development of fallback         â”‚ â”‚
â”‚ â”‚    [Edit] [Hide from Customer]                          â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ [+ Add Risk]                                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Quick Update Modal (Inline Editing)

**Triggered by:** Click "Update Health Status" or "Quick Update" button

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Quick Project Update                              [âœ• Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ Project: Project Alpha - Alphies Marketing                   â”‚
â”‚                                                               â”‚
â”‚ Health Status:                                                â”‚
â”‚ â—‹ ğŸŸ¢ Green (On Track)                                        â”‚
â”‚ â— ğŸŸ¡ Yellow (At Risk)                                        â”‚
â”‚ â—‹ ğŸ”´ Red (Blocked/Critical)                                  â”‚
â”‚                                                               â”‚
â”‚ Brief Explanation:                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Design resource unavailable due to medical leave.     â”‚   â”‚
â”‚ â”‚ Backup designer assigned, minor delay expected.       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Current Phase:                                                â”‚
â”‚ [Design â–¼] Discovery | Design | Build | Validate | Launch    â”‚
â”‚                                                               â”‚
â”‚ Completion %: [68] %                                          â”‚
â”‚                                                               â”‚
â”‚ Budget Variance: [+5] % (positive = under budget)            â”‚
â”‚ Timeline Variance: [+3] days (positive = ahead of schedule)  â”‚
â”‚                                                               â”‚
â”‚ Next Customer Action:                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Review design concepts and provide feedback by Dec 3  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Send Notification to Customer: [âœ“] Yes                       â”‚
â”‚                                                               â”‚
â”‚                         [Cancel] [Update Project]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Milestone Management Modal

**Triggered by:** Click "Edit" on milestone or "+ Add Milestone"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit Milestone: Concept Review                    [âœ• Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ Milestone Title:                                              â”‚
â”‚ [Concept Review_________________________________]            â”‚
â”‚                                                               â”‚
â”‚ Description:                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Review and approve design concepts for Phase 2        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Due Date: [Dec 5, 2025]  Completion Date: [_________]        â”‚
â”‚                                                               â”‚
â”‚ Status: â—‹ Pending  â— In Progress  â—‹ Completed  â—‹ Overdue    â”‚
â”‚                                                               â”‚
â”‚ Completion %: [45] %                                          â”‚
â”‚                                                               â”‚
â”‚ Customer Visible: [âœ“] Show to customer                       â”‚
â”‚                                                               â”‚
â”‚ Definition of Done:                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â€¢ All design concepts reviewed by stakeholders        â”‚   â”‚
â”‚ â”‚ â€¢ Feedback documented                                 â”‚   â”‚
â”‚ â”‚ â€¢ Preferred concept selected                          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Customer Action Required:                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Review design concepts and provide feedback by Dec 3  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Dependencies: [Select milestones...â–¼]                        â”‚
â”‚ â€¢ Wireframes Approved (Completed)                            â”‚
â”‚                                                               â”‚
â”‚ Assigned To: [John Smith â–¼]                                  â”‚
â”‚                                                               â”‚
â”‚ Deliverables:                                                 â”‚
â”‚ â€¢ Design Concepts v2.pdf                                     â”‚
â”‚ [+ Add Deliverable]                                           â”‚
â”‚                                                               â”‚
â”‚                         [Cancel] [Save Milestone]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Roadblock Management Modal

**Triggered by:** Click "+ Add Roadblock" or "Edit" on existing roadblock

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Add Roadblock                                     [âœ• Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ Title:                                                        â”‚
â”‚ [Design Resource Unavailable_____________________]           â”‚
â”‚                                                               â”‚
â”‚ Description:                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Lead designer on medical leave for 2 weeks. Project  â”‚   â”‚
â”‚ â”‚ requires specialized design expertise.                â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Severity: â—‹ Low  â—‹ Medium  â—‹ High  â— Critical                â”‚
â”‚                                                               â”‚
â”‚ Status: â—‹ Open  â— In Progress  â—‹ Resolved  â—‹ Closed          â”‚
â”‚                                                               â”‚
â”‚ Related Milestone: [Concept Review â–¼]                        â”‚
â”‚                                                               â”‚
â”‚ Impact:                                                       â”‚
â”‚ Timeline Impact: [+3] days                                   â”‚
â”‚ Budget Impact: $[0] (if applicable)                          â”‚
â”‚                                                               â”‚
â”‚ Impact Description:                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Concept Review milestone will be delayed by 3 days   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Resolution Plan:                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Backup designer (Sarah Johnson) assigned. Currently  â”‚   â”‚
â”‚ â”‚ onboarding on project requirements. Expected to be    â”‚   â”‚
â”‚ â”‚ fully productive by Dec 1.                            â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Assigned To: [Sarah Johnson â–¼]                               â”‚
â”‚                                                               â”‚
â”‚ Target Resolution Date: [Dec 8, 2025]                        â”‚
â”‚                                                               â”‚
â”‚ Notify Customer: [âœ“] Send alert about this roadblock         â”‚
â”‚                                                               â”‚
â”‚                         [Cancel] [Save Roadblock]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 Status Update Creation

**Triggered by:** Click "+ Create Status Update"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create Status Update                              [âœ• Close] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ Update Type:                                                  â”‚
â”‚ [Milestone Completed â–¼]                                      â”‚
â”‚ â€¢ Milestone Completed                                        â”‚
â”‚ â€¢ Status Change                                              â”‚
â”‚ â€¢ Risk Identified                                            â”‚
â”‚ â€¢ Roadblock Added                                            â”‚
â”‚ â€¢ Roadblock Resolved                                         â”‚
â”‚ â€¢ Budget Variance                                            â”‚
â”‚ â€¢ Timeline Change                                            â”‚
â”‚ â€¢ General Update                                             â”‚
â”‚                                                               â”‚
â”‚ Title:                                                        â”‚
â”‚ [Wireframes Approved by Stakeholders_____________]           â”‚
â”‚                                                               â”‚
â”‚ Description:                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ All wireframes have been reviewed and approved by     â”‚   â”‚
â”‚ â”‚ stakeholders. Moving forward to concept design phase. â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚ Visibility:                                                   â”‚
â”‚ â— Customer Visible (shown on customer dashboard)            â”‚
â”‚ â—‹ Internal Only (team use only)                             â”‚
â”‚                                                               â”‚
â”‚ Related To:                                                   â”‚
â”‚ Milestone: [Wireframes Approved â–¼]                          â”‚
â”‚ Risk: [None â–¼]                                               â”‚
â”‚ Roadblock: [None â–¼]                                          â”‚
â”‚                                                               â”‚
â”‚ Attach Files: [Choose Files...]                              â”‚
â”‚                                                               â”‚
â”‚                         [Cancel] [Post Update]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.6 Bulk Operations Dashboard

**New Page:** `/project-management/bulk-updates`

**Purpose:** Allow Platform Host to efficiently update multiple projects at once

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bulk Project Updates                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ Select Projects:                                              â”‚
â”‚ [âœ“] Project Alpha - Alphies Marketing                        â”‚
â”‚ [âœ“] Project Beta - Alphies Operations                        â”‚
â”‚ [ ] Project Gamma - Alphies Finance                          â”‚
â”‚ [ ] Project Delta - TechCorp Website                         â”‚
â”‚                                                               â”‚
â”‚ Bulk Action:                                                  â”‚
â”‚ [Update Health Status â–¼]                                     â”‚
â”‚ â€¢ Update Health Status                                       â”‚
â”‚ â€¢ Create Status Update                                       â”‚
â”‚ â€¢ Send Notification                                          â”‚
â”‚ â€¢ Update Phase                                               â”‚
â”‚                                                               â”‚
â”‚ [Apply to Selected Projects]                                 â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Primary Customer Portfolio Rollup View

### 3.1 Portfolio Dashboard (New Page)

**Location:** `/customer/portfolio` (NEW)

**Purpose:** Provide Primary Customers with a consolidated view of ALL sub-client projects

**Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Portfolio Overview - Demo Company                            â”‚
â”‚ All Sub-Client Projects                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ Total        â”‚ â”‚ Active       â”‚ â”‚ At Risk      â”‚         â”‚
â”‚ â”‚ Projects     â”‚ â”‚ Projects     â”‚ â”‚ Projects     â”‚         â”‚
â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚         â”‚
â”‚ â”‚     12       â”‚ â”‚      9       â”‚ â”‚      3       â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ Total Budget â”‚ â”‚ Budget Spent â”‚ â”‚ Avg Progress â”‚         â”‚
â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚         â”‚
â”‚ â”‚   $540K      â”‚ â”‚    $385K     â”‚ â”‚     64%      â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Projects by Sub-Client                        [Filter â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Alphies (Sub-Client) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 5 Projects | 3 On Track | 2 At Risk | 0 Blocked       â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [ğŸŸ¢] Project Alpha - Marketing Website                 â”‚  â”‚
â”‚ â”‚      68% â€¢ Design â€¢ Due: Dec 15 â€¢ $45K/$50K           â”‚  â”‚
â”‚ â”‚      [View Dashboard â†’]                                â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [ğŸŸ¡] Project Beta - Operations Portal                  â”‚  â”‚
â”‚ â”‚      42% â€¢ Build â€¢ Due: Jan 10 â€¢ $28K/$30K            â”‚  â”‚
â”‚ â”‚      âš ï¸ 1 Roadblock â€¢ 2 Risks                         â”‚  â”‚
â”‚ â”‚      [View Dashboard â†’]                                â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [ğŸŸ¢] Project Gamma - Finance Dashboard                 â”‚  â”‚
â”‚ â”‚      85% â€¢ Validate â€¢ Due: Nov 30 â€¢ $19K/$20K         â”‚  â”‚
â”‚ â”‚      [View Dashboard â†’]                                â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [Show 2 more projects...]                              â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ TechCorp (Sub-Client) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 4 Projects | 2 On Track | 1 At Risk | 1 Blocked       â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [ğŸ”´] Project Delta - Website Redesign                  â”‚  â”‚
â”‚ â”‚      25% â€¢ Design â€¢ Due: Dec 1 â€¢ $55K/$60K            â”‚  â”‚
â”‚ â”‚      ğŸš« Critical: Client feedback delayed              â”‚  â”‚
â”‚ â”‚      [View Dashboard â†’]                                â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [ğŸŸ¢] Project Epsilon - Mobile App                      â”‚  â”‚
â”‚ â”‚      72% â€¢ Build â€¢ Due: Jan 20 â€¢ $38K/$40K            â”‚  â”‚
â”‚ â”‚      [View Dashboard â†’]                                â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [Show 2 more projects...]                              â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ MarketingPro (Sub-Client) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 3 Projects | 3 On Track | 0 At Risk | 0 Blocked       â”‚  â”‚
â”‚ â”‚ [Show all projects...]                                 â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Demand Analysis                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Resource Allocation by Sub-Client â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Alphies:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60% ($270K)     â”‚  â”‚
â”‚ â”‚ TechCorp:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  50% ($193K)     â”‚  â”‚
â”‚ â”‚ MarketingPro:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  40% ($77K)      â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Timeline Overview â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ This Month:  4 milestones due                          â”‚  â”‚
â”‚ â”‚ Next Month:  7 milestones due                          â”‚  â”‚
â”‚ â”‚ Q1 2026:     15 milestones due                         â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [View Full Timeline â†’]                                 â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Risk Summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Critical Risks:  2 across 2 projects                   â”‚  â”‚
â”‚ â”‚ High Risks:      5 across 4 projects                   â”‚  â”‚
â”‚ â”‚ Medium Risks:    8 across 6 projects                   â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [View Risk Register â†’]                                 â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Portfolio Filters and Views

**Filter Options:**
- By Sub-Client (dropdown multi-select)
- By Health Status (Green, Yellow, Red)
- By Phase (Discovery, Design, Build, Validate, Launch)
- By Budget Range
- By Timeline (Overdue, Due This Month, Due Next Month, Future)
- By Assigned PM

**View Options:**
- **Card View** (default, shown above)
- **Table View** (compact spreadsheet-style)
- **Timeline View** (Gantt chart across all projects)
- **Budget View** (financial summary)

### 3.3 Portfolio Table View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Portfolio Overview - Table View                                [Export CSV] [Print]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                           â”‚
â”‚ Sub-Client   | Project Name      | Health | Progress | Phase    | Due Date  | Budget   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Alphies      | Project Alpha     | ğŸŸ¢     | 68%      | Design   | Dec 15    | $45K/$50Kâ”‚
â”‚ Alphies      | Project Beta      | ğŸŸ¡     | 42%      | Build    | Jan 10    | $28K/$30Kâ”‚
â”‚ Alphies      | Project Gamma     | ğŸŸ¢     | 85%      | Validate | Nov 30    | $19K/$20Kâ”‚
â”‚ TechCorp     | Project Delta     | ğŸ”´     | 25%      | Design   | Dec 1     | $55K/$60Kâ”‚
â”‚ TechCorp     | Project Epsilon   | ğŸŸ¢     | 72%      | Build    | Jan 20    | $38K/$40Kâ”‚
â”‚ MarketingPro | Project Zeta      | ğŸŸ¢     | 90%      | Launch   | Nov 25    | $15K/$15Kâ”‚
â”‚ ...          | ...               | ...    | ...      | ...      | ...       | ...      â”‚
â”‚                                                                                           â”‚
â”‚ [< Previous] Page 1 of 2 [Next >]                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Portfolio Timeline View (Gantt Chart)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Portfolio Timeline - All Sub-Client Projects                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                           â”‚
â”‚                     Nov          Dec          Jan          Feb          Mar              â”‚
â”‚                     |            |            |            |            |                â”‚
â”‚ Alphies                                                                                   â”‚
â”‚  Project Alpha      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚  Project Beta       â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚  Project Gamma      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚                                                                                           â”‚
â”‚ TechCorp                                                                                  â”‚
â”‚  Project Delta      â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚  Project Epsilon    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚                                                                                           â”‚
â”‚ MarketingPro                                                                              â”‚
â”‚  Project Zeta       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                â”‚
â”‚                                                                                           â”‚
â”‚ Legend: â–ˆâ–ˆâ–ˆâ–ˆ Completed  â–“â–“â–“â–“ In Progress  â–‘â–‘â–‘â–‘ Planned  â—† Milestone  âš  At Risk        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 Demand Analysis Dashboard

**Purpose:** Help Primary Customers understand resource allocation and capacity planning

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Demand Analysis - Demo Company                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Current Demand by Sub-Client â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Alphies:        5 projects | $270K | 320 hours/month  â”‚  â”‚
â”‚ â”‚ TechCorp:       4 projects | $193K | 240 hours/month  â”‚  â”‚
â”‚ â”‚ MarketingPro:   3 projects | $77K  | 120 hours/month  â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Total:          12 projects | $540K | 680 hours/month â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Capacity Utilization â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Current Month:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80% (680/850)   â”‚  â”‚
â”‚ â”‚ Next Month:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  90% (765/850)   â”‚  â”‚
â”‚ â”‚ Q1 2026:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  70% (595/850)   â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ âš ï¸ Next month approaching capacity limit               â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Work Request Pipeline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Submitted:      8 requests | Est. 240 hours           â”‚  â”‚
â”‚ â”‚ Under Review:   5 requests | Est. 150 hours           â”‚  â”‚
â”‚ â”‚ Approved:       3 requests | Est. 90 hours            â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Projected demand increase: +480 hours over 3 months    â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Budget Tracking â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Total Budget:     $540,000                             â”‚  â”‚
â”‚ â”‚ Spent to Date:    $385,000 (71%)                       â”‚  â”‚
â”‚ â”‚ Remaining:        $155,000 (29%)                       â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Projected at Current Rate:                             â”‚  â”‚
â”‚ â”‚ â€¢ End of Month:   $425,000                             â”‚  â”‚
â”‚ â”‚ â€¢ End of Quarter: $540,000 (on track)                  â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Navigation Structure & Placement

### 4.1 Updated Navigation Groups

**New Navigation Structure:**

```typescript
const navigationGroups: NavigationGroup[] = [
  {
    id: 'operations',
    title: 'Operations',
    icon: Briefcase,
    items: [
      { name: 'Work Requests', href: '/work-requests', icon: FileText },
      { name: 'Project Management', href: '/project-management', icon: Calendar },
      
      // NEW: Customer-facing views (client_admin, client_user only)
      { name: 'Portfolio Overview', href: '/customer/portfolio', icon: PieChart, 
        requiredPermission: PERMISSIONS.PORTFOLIO_VIEW, isNew: true },
      { name: 'My Projects', href: '/customer/projects', icon: Briefcase,
        requiredPermission: PERMISSIONS.CUSTOMER_PROJECTS_VIEW, isNew: true },
      
      { name: 'Reporting', href: '/reporting', icon: TrendingUp },
      { name: 'HR Analytics Dashboard', href: '/hr-analytics', icon: PieChart },
    ],
  },
  // ... other groups remain the same
]
```

### 4.2 Role-Based Navigation Visibility

**Navigation Items by Role:**

| Navigation Item | host_admin | program_manager | client_admin | client_user | user (sub-client) |
|-----------------|------------|-----------------|--------------|-------------|-------------------|
| **Work Requests** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Project Management** | âœ… | âœ… | âŒ | âŒ | âŒ |
| **Portfolio Overview** | âŒ | âŒ | âœ… | âœ… | âŒ |
| **My Projects** | âŒ | âŒ | âŒ | âŒ | âœ… |
| **Reporting** | âœ… | âœ… | âœ… | âœ… | âœ… |

**Explanation:**
- **Platform Host (host_admin, program_manager)**: See "Project Management" for full admin control
- **Primary Customers (client_admin, client_user)**: See "Portfolio Overview" for rolled-up view across all sub-clients
- **Sub-Clients (user)**: See "My Projects" for their own project dashboards only

### 4.3 Breadcrumb Navigation

**Example breadcrumbs for new pages:**

```
Portfolio Overview:
Home > Operations > Portfolio Overview

Portfolio (specific sub-client):
Home > Operations > Portfolio Overview > Alphies

Project Dashboard (from portfolio):
Home > Operations > Portfolio Overview > Alphies > Project Alpha

Project Management (Platform Host):
Home > Operations > Project Management

Project Detail (Platform Host):
Home > Operations > Project Management > Project Alpha
```

### 4.4 Quick Access Menu (Header)

**Add to header for quick navigation:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETLA Platform    [ğŸ” Search]  [ğŸ”” 3]  [ğŸ‘¤ John Smith â–¼]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ My Profile                â”‚
                    â”‚ Settings                  â”‚
                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                    â”‚ Portfolio Overview    NEW â”‚  â† Quick access
                    â”‚ My Projects          NEW  â”‚  â† Quick access
                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                    â”‚ Help & Support            â”‚
                    â”‚ Sign Out                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Comprehensive RBAC Implementation

### 5.1 New Features Added to RBAC

**Updated FEATURES constant:**

```typescript
export const FEATURES = {
  // ... existing features ...
  
  // NEW: Customer-facing features
  CUSTOMER_PORTFOLIO: 'customer-portfolio',
  CUSTOMER_PROJECTS: 'customer-projects',
  CUSTOMER_PROJECT_DASHBOARD: 'customer-project-dashboard',
  
  // NEW: Platform Host project management features
  PROJECT_HEALTH_MANAGEMENT: 'project-health-management',
  PROJECT_MILESTONE_MANAGEMENT: 'project-milestone-management',
  PROJECT_ROADBLOCK_MANAGEMENT: 'project-roadblock-management',
  PROJECT_STATUS_UPDATES: 'project-status-updates',
  PROJECT_DELIVERABLE_MANAGEMENT: 'project-deliverable-management',
  PROJECT_BULK_OPERATIONS: 'project-bulk-operations',
} as const
```

### 5.2 New Permissions Added

**Updated PERMISSIONS constant:**

```typescript
export const PERMISSIONS = {
  // ... existing permissions ...
  
  // NEW: Customer permissions
  PORTFOLIO_VIEW: 'view',
  CUSTOMER_PROJECTS_VIEW: 'view',
  CUSTOMER_PROJECT_DASHBOARD_VIEW: 'view',
  
  // NEW: Platform Host project management permissions
  PROJECT_HEALTH_UPDATE: 'update',
  PROJECT_MILESTONE_MANAGE: 'manage',
  PROJECT_ROADBLOCK_MANAGE: 'manage',
  PROJECT_STATUS_UPDATE_CREATE: 'create',
  PROJECT_DELIVERABLE_MANAGE: 'manage',
  PROJECT_BULK_UPDATE: 'manage',
  
  // NEW: Work request approval permission (explicit)
  WORK_REQUEST_APPROVE: 'approve',
} as const
```

### 5.3 Updated Role Permission Matrix

**Complete role permissions with new features:**

```typescript
const DEFAULT_ROLE_PERMISSIONS: RolePermissionsMatrix = {
  [ROLES.HOST_ADMIN]: {
    role: ROLES.HOST_ADMIN,
    permissions: [
      // Full access to all features
      ...Object.values(FEATURES).map((feature) => ({ 
        feature, 
        permission: CORE.MANAGE 
      })),
    ],
  },
  
  [ROLES.PROGRAM_MANAGER]: {
    role: ROLES.PROGRAM_MANAGER,
    permissions: [
      // Existing permissions
      { feature: FEATURES.PROJECT_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.MANAGE },
      { feature: FEATURES.PROJECT_CHARTER, permission: CORE.MANAGE },
      { feature: FEATURES.RISK_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.RESOURCE_MANAGEMENT, permission: CORE.MANAGE },
      
      // NEW: Project management features
      { feature: FEATURES.PROJECT_HEALTH_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.PROJECT_MILESTONE_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.PROJECT_ROADBLOCK_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.PROJECT_STATUS_UPDATES, permission: CORE.CREATE },
      { feature: FEATURES.PROJECT_DELIVERABLE_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.PROJECT_BULK_OPERATIONS, permission: CORE.MANAGE },
      
      // Analytics
      { feature: FEATURES.DASHBOARDS, permission: CORE.VIEW },
      { feature: FEATURES.ANALYTICS, permission: CORE.VIEW },
    ],
  },
  
  [ROLES.CLIENT_ADMIN]: {
    role: ROLES.CLIENT_ADMIN,
    permissions: [
      // Existing permissions
      { feature: FEATURES.USER_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.ACCESS_CONTROL, permission: CORE.VIEW },
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.MANAGE },
      { feature: FEATURES.DASHBOARDS, permission: CORE.VIEW },
      
      // NEW: Customer-facing features (PRIMARY CUSTOMER - Tier 2)
      { feature: FEATURES.CUSTOMER_PORTFOLIO, permission: CORE.VIEW },
      { feature: FEATURES.CUSTOMER_PROJECTS, permission: CORE.VIEW },
      { feature: FEATURES.CUSTOMER_PROJECT_DASHBOARD, permission: CORE.VIEW },
      
      // IMPORTANT: Cannot approve work requests
      // IMPORTANT: Cannot access PROJECT_MANAGEMENT (Platform Host only)
      
      { feature: FEATURES.BENEFITS_MANAGEMENT, permission: CORE.MANAGE },
      { feature: FEATURES.EMPLOYEE_RECORDS, permission: CORE.MANAGE },
      { feature: FEATURES.FILE_UPLOAD, permission: CORE.CREATE },
    ],
  },
  
  [ROLES.CLIENT_USER]: {
    role: ROLES.CLIENT_USER,
    permissions: [
      // Work requests (submit/view only, NO APPROVE)
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.CREATE },
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.VIEW },
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.UPDATE }, // own requests only
      
      // NEW: Customer-facing features (PRIMARY CUSTOMER - Tier 2)
      { feature: FEATURES.CUSTOMER_PORTFOLIO, permission: CORE.VIEW },
      { feature: FEATURES.CUSTOMER_PROJECTS, permission: CORE.VIEW },
      { feature: FEATURES.CUSTOMER_PROJECT_DASHBOARD, permission: CORE.VIEW },
      
      // IMPORTANT: Cannot approve work requests
      // IMPORTANT: Cannot access PROJECT_MANAGEMENT (Platform Host only)
      
      { feature: FEATURES.DASHBOARDS, permission: CORE.VIEW },
      { feature: FEATURES.BENEFITS_MANAGEMENT, permission: CORE.VIEW },
      { feature: FEATURES.FILE_UPLOAD, permission: CORE.CREATE },
    ],
  },
  
  [ROLES.USER]: {
    role: ROLES.USER,
    permissions: [
      // Work requests (submit/view only)
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.CREATE },
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.VIEW },
      { feature: FEATURES.WORK_REQUESTS, permission: CORE.UPDATE }, // own requests only
      
      // NEW: Sub-client project view (SUB-CLIENT - Tier 3)
      { feature: FEATURES.CUSTOMER_PROJECTS, permission: CORE.VIEW }, // own projects only
      { feature: FEATURES.CUSTOMER_PROJECT_DASHBOARD, permission: CORE.VIEW },
      
      // IMPORTANT: Cannot see portfolio rollup (no parent visibility)
      // IMPORTANT: Cannot approve work requests
      
      { feature: FEATURES.DASHBOARDS, permission: CORE.VIEW },
      { feature: FEATURES.BENEFITS_MANAGEMENT, permission: CORE.VIEW },
      { feature: FEATURES.FILE_UPLOAD, permission: CORE.CREATE },
    ],
  },
}
```

### 5.4 Permission Enforcement Strategy

**Three Layers of Enforcement:**

1. **UI Layer** - Hide/show navigation items and buttons based on permissions
2. **API Layer** - Validate permissions on every API request
3. **Database Layer** - Row-Level Security (RLS) policies enforce tenant isolation

**Example UI Permission Check:**

```typescript
// In component
const { canAccessFeature, hasPermission } = usePermissions()

// Check feature access
const canViewPortfolio = canAccessFeature(FEATURES.CUSTOMER_PORTFOLIO)

// Check specific permission
const canApproveWorkRequest = hasPermission(
  FEATURES.WORK_REQUESTS, 
  PERMISSIONS.APPROVE
)

// Render conditionally
{canViewPortfolio && (
  <Link href="/customer/portfolio">Portfolio Overview</Link>
)}

{canApproveWorkRequest && (
  <Button onClick={handleApprove}>Approve Request</Button>
)}
```

**Example API Permission Check:**

```typescript
// In API route handler
import { checkPermission } from '@/lib/rbac'

export async function POST(request: Request) {
  const { user, tenantUser } = await getAuthContext(request)
  
  // Check permission
  const canApprove = await checkPermission(
    user.id,
    tenantUser.tenant_id,
    FEATURES.WORK_REQUESTS,
    PERMISSIONS.APPROVE
  )
  
  if (!canApprove) {
    return Response.json(
      { error: 'Insufficient permissions' },
      { status: 403 }
    )
  }
  
  // Proceed with approval logic
  // ...
}
```

**Example RLS Policy:**

```sql
-- Ensure Primary Customers can only see sub-client projects
CREATE POLICY "customer_portfolio_access" ON project_charters
  FOR SELECT
  USING (
    -- Platform Host can see all
    auth.jwt() ->> 'role' IN ('host_admin', 'program_manager')
    OR
    -- Primary Customers can see sub-client projects
    (
      auth.jwt() ->> 'role' IN ('client_admin', 'client_user')
      AND tenant_id IN (
        SELECT id FROM tenants 
        WHERE parent_tenant_id = (auth.jwt() ->> 'tenant_id')::uuid
      )
    )
    OR
    -- Sub-clients can see own projects
    (
      auth.jwt() ->> 'role' = 'user'
      AND tenant_id = (auth.jwt() ->> 'tenant_id')::uuid
    )
  );
```

### 5.5 Work Request Approval RBAC

**Explicit Permission Enforcement:**

```typescript
// Work Request Approval Button
const { hasPermission, userRole } = usePermissions()

const canApprove = hasPermission(
  FEATURES.WORK_REQUESTS,
  PERMISSIONS.APPROVE
)

// Only Platform Host roles can approve
const isHostRole = [ROLES.HOST_ADMIN, ROLES.PROGRAM_MANAGER].includes(userRole)

return (
  <div>
    {canApprove && isHostRole && (
      <Button onClick={handleApprove}>
        Approve Request
      </Button>
    )}
    
    {!canApprove && (
      <Tooltip content="Only Platform Host can approve requests">
        <Button disabled>Approve Request</Button>
      </Tooltip>
    )}
  </div>
)
```

**API Enforcement:**

```typescript
// /api/work-requests/[id]/approve
export async function POST(request: Request) {
  const { user, tenantUser } = await getAuthContext(request)
  
  // Explicit role check
  if (!['host_admin', 'program_manager'].includes(tenantUser.role)) {
    return Response.json(
      { error: 'Only Platform Host can approve work requests' },
      { status: 403 }
    )
  }
  
  // Additional permission check
  const canApprove = await checkPermission(
    user.id,
    tenantUser.tenant_id,
    FEATURES.WORK_REQUESTS,
    PERMISSIONS.APPROVE
  )
  
  if (!canApprove) {
    return Response.json(
      { error: 'Insufficient permissions' },
      { status: 403 }
    )
  }
  
  // Proceed with approval
  // ...
}
```

---

## 6. Database Queries for New Features

### 6.1 Portfolio Rollup Query

```sql
-- Get portfolio summary for Primary Customer
CREATE OR REPLACE FUNCTION get_customer_portfolio_summary(p_customer_tenant_id UUID)
RETURNS JSON AS $$
DECLARE
  v_result JSON;
BEGIN
  SELECT json_build_object(
    'summary', json_build_object(
      'total_projects', (
        SELECT COUNT(*) FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      ),
      'active_projects', (
        SELECT COUNT(*) FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND pc.status IN ('in_progress', 'scheduled')
      ),
      'at_risk_projects', (
        SELECT COUNT(*) FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND pc.health_status = 'yellow'
      ),
      'blocked_projects', (
        SELECT COUNT(*) FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND pc.health_status = 'red'
      ),
      'total_budget', (
        SELECT COALESCE(SUM(
          CASE 
            WHEN jsonb_typeof(pc.budget) = 'object' 
            THEN (pc.budget->>'total_budget')::DECIMAL
            ELSE pc.budget::DECIMAL
          END
        ), 0)
        FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      ),
      'budget_spent', (
        SELECT COALESCE(SUM(pc.actualCost), 0)
        FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      ),
      'avg_progress', (
        SELECT COALESCE(AVG(pc.completionPercentage), 0)::INTEGER
        FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      )
    ),
    'sub_clients', (
      SELECT json_agg(
        json_build_object(
          'tenant_id', t.id,
          'tenant_name', t.name,
          'project_count', (
            SELECT COUNT(*) FROM project_charters pc2
            WHERE pc2.tenant_id = t.id
          ),
          'on_track_count', (
            SELECT COUNT(*) FROM project_charters pc2
            WHERE pc2.tenant_id = t.id
              AND pc2.health_status = 'green'
          ),
          'at_risk_count', (
            SELECT COUNT(*) FROM project_charters pc2
            WHERE pc2.tenant_id = t.id
              AND pc2.health_status = 'yellow'
          ),
          'blocked_count', (
            SELECT COUNT(*) FROM project_charters pc2
            WHERE pc2.tenant_id = t.id
              AND pc2.health_status = 'red'
          ),
          'projects', (
            SELECT json_agg(
              json_build_object(
                'id', pc3.id,
                'title', pc3.title,
                'health_status', pc3.health_status,
                'completion_percentage', COALESCE(pc3.completionPercentage, 0),
                'current_phase', pc3.current_phase,
                'next_milestone', (
                  SELECT json_build_object(
                    'title', pm.title,
                    'due_date', pm.due_date
                  )
                  FROM project_milestones pm
                  WHERE pm.project_id = pc3.id
                    AND pm.status IN ('pending', 'in_progress')
                    AND pm.due_date >= CURRENT_DATE
                  ORDER BY pm.due_date ASC
                  LIMIT 1
                ),
                'budget_total', CASE 
                  WHEN jsonb_typeof(pc3.budget) = 'object' 
                  THEN (pc3.budget->>'total_budget')::DECIMAL
                  ELSE pc3.budget::DECIMAL
                END,
                'budget_spent', COALESCE(pc3.actualCost, 0),
                'roadblock_count', (
                  SELECT COUNT(*) FROM project_roadblocks pr
                  WHERE pr.project_id = pc3.id
                    AND pr.status IN ('open', 'in_progress')
                ),
                'risk_count', (
                  SELECT COUNT(*) FROM risks r
                  WHERE r.project_id = pc3.id
                    AND r.status = 'open'
                    AND r.customer_visible = TRUE
                )
              )
              ORDER BY pc3.updated_at DESC
            )
            FROM project_charters pc3
            WHERE pc3.tenant_id = t.id
          )
        )
      )
      FROM tenants t
      WHERE t.parent_tenant_id = p_customer_tenant_id
        AND t.tenant_tier = 3
      ORDER BY t.name
    )
  ) INTO v_result;
  
  RETURN v_result;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

### 6.2 Demand Analysis Query

```sql
-- Get demand analysis for Primary Customer
CREATE OR REPLACE FUNCTION get_customer_demand_analysis(p_customer_tenant_id UUID)
RETURNS JSON AS $$
DECLARE
  v_result JSON;
BEGIN
  SELECT json_build_object(
    'current_demand', (
      SELECT json_agg(
        json_build_object(
          'sub_client_name', t.name,
          'project_count', (
            SELECT COUNT(*) FROM project_charters pc
            WHERE pc.tenant_id = t.id
              AND pc.status IN ('in_progress', 'scheduled')
          ),
          'total_budget', (
            SELECT COALESCE(SUM(
              CASE 
                WHEN jsonb_typeof(pc.budget) = 'object' 
                THEN (pc.budget->>'total_budget')::DECIMAL
                ELSE pc.budget::DECIMAL
              END
            ), 0)
            FROM project_charters pc
            WHERE pc.tenant_id = t.id
              AND pc.status IN ('in_progress', 'scheduled')
          ),
          'estimated_hours_per_month', (
            SELECT COALESCE(SUM(pc.estimatedHours), 0) / 3 -- Rough monthly estimate
            FROM project_charters pc
            WHERE pc.tenant_id = t.id
              AND pc.status IN ('in_progress', 'scheduled')
          )
        )
      )
      FROM tenants t
      WHERE t.parent_tenant_id = p_customer_tenant_id
        AND t.tenant_tier = 3
    ),
    'work_request_pipeline', json_build_object(
      'submitted_count', (
        SELECT COUNT(*) FROM work_requests wr
        INNER JOIN tenants t ON wr.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND wr.status = 'submitted'
      ),
      'submitted_hours', (
        SELECT COALESCE(SUM(wr.estimated_hours), 0)
        FROM work_requests wr
        INNER JOIN tenants t ON wr.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND wr.status = 'submitted'
      ),
      'under_review_count', (
        SELECT COUNT(*) FROM work_requests wr
        INNER JOIN tenants t ON wr.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND wr.status = 'under_review'
      ),
      'under_review_hours', (
        SELECT COALESCE(SUM(wr.estimated_hours), 0)
        FROM work_requests wr
        INNER JOIN tenants t ON wr.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND wr.status = 'under_review'
      ),
      'approved_count', (
        SELECT COUNT(*) FROM work_requests wr
        INNER JOIN tenants t ON wr.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND wr.status = 'approved'
      ),
      'approved_hours', (
        SELECT COALESCE(SUM(wr.estimated_hours), 0)
        FROM work_requests wr
        INNER JOIN tenants t ON wr.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
          AND wr.status = 'approved'
      )
    ),
    'budget_tracking', json_build_object(
      'total_budget', (
        SELECT COALESCE(SUM(
          CASE 
            WHEN jsonb_typeof(pc.budget) = 'object' 
            THEN (pc.budget->>'total_budget')::DECIMAL
            ELSE pc.budget::DECIMAL
          END
        ), 0)
        FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      ),
      'spent_to_date', (
        SELECT COALESCE(SUM(pc.actualCost), 0)
        FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      ),
      'remaining', (
        SELECT COALESCE(SUM(
          CASE 
            WHEN jsonb_typeof(pc.budget) = 'object' 
            THEN (pc.budget->>'total_budget')::DECIMAL
            ELSE pc.budget::DECIMAL
          END
        ), 0) - COALESCE(SUM(pc.actualCost), 0)
        FROM project_charters pc
        INNER JOIN tenants t ON pc.tenant_id = t.id
        WHERE t.parent_tenant_id = p_customer_tenant_id
      )
    )
  ) INTO v_result;
  
  RETURN v_result;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

---

## 7. Updated Implementation Timeline

### Phase 3.1: Work Request Styling & Permissions (Week 1)
- Apply compact design styling to Work Request view and modals
- **NEW:** Implement explicit work request approval RBAC
- **NEW:** Hide approval buttons for Primary Customers (client_admin, client_user)
- Test permission enforcement at UI and API layers

### Phase 3.2: Database Schema & API (Week 2)
- Create new tables (roadblocks, status_updates, deliverables, notifications)
- **NEW:** Add portfolio rollup database functions
- **NEW:** Add demand analysis database functions
- Implement API endpoints for customer and admin access
- Add RLS policies

### Phase 3.3: Platform Host Project Management UI (Week 3)
- **NEW:** Enhance Project Management page with update sections
- **NEW:** Create Quick Update Modal
- **NEW:** Create Milestone Management Modal
- **NEW:** Create Roadblock Management Modal
- **NEW:** Create Status Update Creation form
- **NEW:** Create Bulk Operations Dashboard

### Phase 3.4: Primary Customer Portfolio Rollup (Week 4)
- **NEW:** Create Portfolio Dashboard page (`/customer/portfolio`)
- **NEW:** Implement portfolio summary cards
- **NEW:** Create sub-client project grouping
- **NEW:** Implement portfolio filters and views (Card, Table, Timeline)
- **NEW:** Create Demand Analysis Dashboard

### Phase 3.5: Customer Project Board & Dashboard (Week 5)
- Create Customer Project Board List (`/customer/projects`)
- Create Project Dashboard Detail View
- Implement milestone timeline visualization
- Create roadblock and risk displays
- Create activity feed

### Phase 3.6: Notification System (Week 6)
- Create notification bell component
- Implement notification generation logic
- Create notification list page
- Add email notification integration

### Phase 3.7: Navigation & RBAC Integration (Week 7)
- **NEW:** Update DashboardLayout with new navigation items
- **NEW:** Implement role-based navigation visibility
- **NEW:** Add quick access menu to header
- **NEW:** Update usePermissions hook with new features/permissions
- **NEW:** Test RBAC enforcement across all new features

### Phase 3.8: Testing & Refinement (Week 8)
- Test all role permissions (host_admin, program_manager, client_admin, client_user, user)
- Test portfolio rollup accuracy
- Test Platform Host update workflows
- Test responsive design
- Performance testing
- User acceptance testing
- Bug fixes and documentation

---

## 8. Success Criteria (Updated)

### 8.1 Platform Host Functionality
- âœ… Platform Host can update project health status from Project Management page
- âœ… Platform Host can create/edit milestones with customer actions
- âœ… Platform Host can add/resolve roadblocks with impact tracking
- âœ… Platform Host can post customer-visible status updates
- âœ… Platform Host can manage deliverables
- âœ… Platform Host can perform bulk operations on multiple projects
- âœ… All updates reflect in real-time on customer-facing dashboards

### 8.2 Primary Customer Functionality
- âœ… Primary Customers can view Portfolio Overview with all sub-client projects
- âœ… Portfolio shows accurate rollup of demand, budget, and status
- âœ… Primary Customers can filter and search across all projects
- âœ… Primary Customers can view detailed project dashboards for any sub-client project
- âœ… Primary Customers CANNOT approve work requests
- âœ… Primary Customers CANNOT access Platform Host Project Management page
- âœ… Primary Customers receive timely notifications for project updates

### 8.3 Sub-Client Functionality
- âœ… Sub-Clients can view their own project dashboards
- âœ… Sub-Clients can submit work requests
- âœ… Sub-Clients CANNOT see other sub-clients' projects
- âœ… Sub-Clients CANNOT see portfolio rollup view

### 8.4 Navigation & RBAC
- âœ… Navigation items appear/hide based on user role
- âœ… All permissions enforced at UI, API, and database layers
- âœ… No unauthorized access possible through URL manipulation
- âœ… Clear breadcrumb navigation throughout application
- âœ… Quick access menu provides shortcuts to key features

---

## 9. Conclusion

This addendum completes the Phase 3 proposal by addressing:

1. **Platform Host UI** - Comprehensive project update tools within the existing Project Management page, including quick update modals, milestone management, roadblock tracking, status updates, and bulk operations

2. **Portfolio Rollup** - A dedicated Portfolio Overview page for Primary Customers showing consolidated demand and status across ALL sub-client projects, with multiple view options (Card, Table, Timeline) and demand analysis

3. **Navigation Structure** - Clear placement of new functionality in the Operations menu, with role-based visibility ensuring each user type sees only relevant options

4. **Comprehensive RBAC** - Explicit permission definitions for all new features, with three-layer enforcement (UI, API, Database) and clear role-permission matrices

**Key Differentiators:**
- **Platform Host** sees "Project Management" for full administrative control
- **Primary Customers** see "Portfolio Overview" for rolled-up visibility across sub-clients
- **Sub-Clients** see "My Projects" for their own project dashboards only

**Estimated Timeline:** 8 weeks (1 week added for navigation/RBAC integration)
**Estimated Effort:** 320-400 hours
**Risk Level:** Medium (manageable with proper planning and testing)

**Ready to proceed with development upon approval.**


---

## 10. Guided Tours & Informational Tooltips

### 10.1 Overview

To enhance user onboarding and feature discovery, Phase 3 includes a comprehensive guided tour system and contextual help tooltips throughout the application.

**Technology Stack:**
- **Shepherd.js** - Guided tour framework (10KB gzipped)
- **Tippy.js** - Tooltip library (3KB gzipped)
- **React Shepherd** - React wrapper for Shepherd.js

### 10.2 Platform Host Tours

**Project Management Tour** (12 steps, ~3 minutes)
- Welcome and overview
- Project list and filters
- Health status updates
- Quick update modal
- Milestone management
- Roadblock tracking
- Status updates
- Deliverables
- Risk management
- Customer visibility controls
- Bulk operations
- Tour completion

**Bulk Operations Tour** (6 steps, ~2 minutes)
- Introduction to bulk operations
- Project selection
- Action selection
- Applying changes
- Preview functionality
- Best practices

### 10.3 Customer Tours

**Portfolio Overview Tour** (10 steps, ~3 minutes) - Primary Customers Only
- Welcome to portfolio
- Summary cards explanation
- Sub-client grouping
- Health indicators
- Project cards
- Filters and search
- View options (Card/Table/Timeline/Budget)
- Demand analysis
- Risk summary
- Tour completion

**Project Dashboard Tour** (9 steps, ~2.5 minutes) - All Customers
- Dashboard overview
- Project health card
- Next action card
- Timeline and progress
- Budget snapshot
- Milestone timeline
- Active roadblocks
- Activity feed
- Tour completion

**Sub-Client Projects Tour** (6 steps, ~2 minutes) - Sub-Clients Only
- Projects overview
- Project cards
- Health status
- Action items
- Notifications
- Tour completion

### 10.4 Informational Tooltips

**Platform Host Tooltips:**
- Health Status - Explains color coding and customer visibility
- Completion Percentage - How it's calculated
- Budget Variance - Formula and interpretation
- Timeline Variance - Days ahead/behind schedule
- Customer Visible - Impact of toggling visibility
- Next Customer Action - Best practices for writing
- Milestone Definition of Done - Purpose and examples
- Roadblock Severity - Impact levels and auto-notifications
- Roadblock Impact - Quantifying timeline and budget impact
- Status Update Type - Categories and filtering
- Deliverable Status - Status meanings
- Risk Mitigation - What to include

**Customer Tooltips:**
- Project Health - Color meanings and update frequency
- Completion Percentage - What it represents
- Budget Variance - Positive vs. negative variance
- Timeline Status - Ahead vs. behind schedule
- Next Action - Importance of timely completion
- Milestone Timeline - Visual legend
- Roadblock Severity - Impact levels explained
- Activity Feed - How to stay informed
- Portfolio Summary - Aggregated metrics (Primary Customers)
- Demand Analysis - Resource allocation insights (Primary Customers)

### 10.5 Tour Controls

**Tour Triggers:**
- Auto-start on first page visit (with 2-second delay)
- Manual trigger via "Take Tour" button in page header
- Restart option in Settings > Tours & Help

**Tour Prompt Modal:**
- Shown on first visit to pages with tours
- Options: "Start Tour", "Maybe Later", "Don't Show Again"
- Can be re-enabled in settings

**Tour Control Panel** (Settings > Tours & Help):
- List of all available tours
- Completion status for each tour
- "Restart Tour" buttons
- Tour preferences (auto-start, show prompts, never show)
- "Reset All Tours" option

### 10.6 Tour State Management

**Storage:**
- LocalStorage for immediate access
- Database for cross-device persistence
- Synced every 5 minutes

**Tracked Data:**
- Tour ID
- User ID
- Completion status
- Last step viewed
- Completion date
- Skip status

### 10.7 Accessibility Features

**ARIA Labels:**
- All tour elements properly labeled
- Screen reader announcements for tour start/end
- Step number and total steps announced

**Keyboard Navigation:**
- Tab: Navigate between buttons
- Enter/Space: Activate button
- Esc: Exit tour
- Arrow Left: Previous step
- Arrow Right: Next step

**Mobile Support:**
- Responsive tour overlays
- Bottom-sheet style on mobile
- Swipe gestures for next/back
- Larger touch targets (48px minimum)

### 10.8 Analytics & Tracking

**Tour Metrics:**
- Tour start rate
- Tour completion rate
- Tour skip rate
- Average completion time
- Step drop-off rates
- Tour restart rate

**Tooltip Metrics:**
- Tooltip engagement rate
- Most viewed tooltips
- Time spent reading tooltips

**Success Criteria:**
- Tour Start Rate: >70%
- Tour Completion Rate: >60%
- Tour Skip Rate: <30%
- Feature Adoption Increase: >40%
- Support Ticket Reduction: >20%

### 10.9 Implementation Timeline

**Integrated into existing phases:**

**Phase 3.3** (Platform Host UI):
- Implement Project Management Tour
- Implement Bulk Operations Tour
- Add Platform Host tooltips

**Phase 3.4** (Portfolio Rollup):
- Implement Portfolio Overview Tour
- Add Primary Customer tooltips

**Phase 3.5** (Project Board & Dashboard):
- Implement Project Dashboard Tour
- Implement Sub-Client Projects Tour
- Add Customer tooltips

**Phase 3.7** (Navigation & RBAC):
- Create Tour Control Panel
- Implement tour prompt modal
- Add "Take Tour" buttons to headers
- Set up tour state management

**Phase 3.8** (Testing):
- Test all tours across roles
- Test keyboard navigation
- Test mobile responsiveness
- Collect user feedback
- Refine tour content

### 10.10 Content Guidelines

**Tour Content:**
- Friendly and conversational tone
- 1-2 sentences per step (max 150 characters)
- Clear and concise language
- Avoid jargon
- Use emojis sparingly for visual interest

**Tooltip Content:**
- Informative and helpful tone
- 1-3 sentences (max 200 characters)
- Include examples when helpful
- Use line breaks for readability
- Professional but approachable

### 10.11 Maintenance Plan

**Update tours when:**
- New features are added
- UI layout changes significantly
- User feedback indicates confusion
- Completion rates drop below 60%

**Version Control:**
- Tours have version numbers (e.g., "1.0.0")
- Track which version user has seen
- Auto-prompt for updated tours

**A/B Testing:**
- Test different tour lengths
- Test auto-start vs. manual start
- Measure impact on feature adoption
- Iterate based on data

---

## 11. Updated Implementation Timeline (with Guided Tours)

### Phase 3.1: Work Request Styling & Approval RBAC (Week 1)
- Apply compact design styling to Work Request view and modals
- Implement explicit work request approval RBAC
- Hide approval buttons for Primary Customers (client_admin, client_user)
- Test permission enforcement at UI and API layers

### Phase 3.2: Database Schema & API (Week 2)
- Create new tables (roadblocks, status_updates, deliverables, notifications)
- Add portfolio rollup database functions
- Add demand analysis database functions
- Implement API endpoints for customer and admin access
- Add RLS policies
- **NEW:** Create tour progress tracking table

### Phase 3.3: Platform Host Project Management UI (Week 3)
- Enhance Project Management page with update sections
- Create Quick Update Modal
- Create Milestone Management Modal
- Create Roadblock Management Modal
- Create Status Update Creation form
- Create Bulk Operations Dashboard
- **NEW:** Implement Project Management Tour (12 steps)
- **NEW:** Implement Bulk Operations Tour (6 steps)
- **NEW:** Add Platform Host informational tooltips

### Phase 3.4: Primary Customer Portfolio Rollup (Week 4)
- Create Portfolio Dashboard page (`/customer/portfolio`)
- Implement portfolio summary cards
- Create sub-client project grouping
- Implement portfolio filters and views (Card, Table, Timeline)
- Create Demand Analysis Dashboard
- **NEW:** Implement Portfolio Overview Tour (10 steps)
- **NEW:** Add Primary Customer tooltips

### Phase 3.5: Customer Project Board & Dashboard (Week 5)
- Create Customer Project Board List (`/customer/projects`)
- Create Project Dashboard Detail View
- Implement milestone timeline visualization
- Create roadblock and risk displays
- Create activity feed
- **NEW:** Implement Project Dashboard Tour (9 steps)
- **NEW:** Implement Sub-Client Projects Tour (6 steps)
- **NEW:** Add Customer informational tooltips

### Phase 3.6: Notification System (Week 6)
- Create notification bell component
- Implement notification generation logic
- Create notification list page
- Add email notification integration

### Phase 3.7: Navigation & RBAC Integration (Week 7)
- Update DashboardLayout with new navigation items
- Implement role-based navigation visibility
- Add quick access menu to header
- Update usePermissions hook with new features/permissions
- Test RBAC enforcement across all new features
- **NEW:** Create Tour Control Panel in Settings
- **NEW:** Implement tour prompt modal
- **NEW:** Add "Take Tour" buttons to page headers
- **NEW:** Set up tour state management (localStorage + DB)

### Phase 3.8: Testing & Refinement (Week 8)
- Test all role permissions (host_admin, program_manager, client_admin, client_user, user)
- Test portfolio rollup accuracy
- Test Platform Host update workflows
- Test responsive design
- Performance testing
- **NEW:** Test all guided tours across roles
- **NEW:** Test keyboard navigation and accessibility
- **NEW:** Test mobile tour experience
- **NEW:** Collect tour completion metrics
- **NEW:** Refine tour content based on feedback
- User acceptance testing
- Bug fixes and documentation

---

## 12. Updated Success Criteria

### 12.1 Platform Host Functionality
- âœ… Platform Host can update project health status from Project Management page
- âœ… Platform Host can create/edit milestones with customer actions
- âœ… Platform Host can add/resolve roadblocks with impact tracking
- âœ… Platform Host can post customer-visible status updates
- âœ… Platform Host can manage deliverables
- âœ… Platform Host can perform bulk operations on multiple projects
- âœ… All updates reflect in real-time on customer-facing dashboards
- âœ… **NEW:** Platform Host completes Project Management Tour with >60% completion rate

### 12.2 Primary Customer Functionality
- âœ… Primary Customers can view Portfolio Overview with all sub-client projects
- âœ… Portfolio shows accurate rollup of demand, budget, and status
- âœ… Primary Customers can filter and search across all projects
- âœ… Primary Customers can view detailed project dashboards for any sub-client project
- âœ… Primary Customers CANNOT approve work requests
- âœ… Primary Customers CANNOT access Platform Host Project Management page
- âœ… Primary Customers receive timely notifications for project updates
- âœ… **NEW:** Primary Customers complete Portfolio Tour with >60% completion rate

### 12.3 Sub-Client Functionality
- âœ… Sub-Clients can view their own project dashboards
- âœ… Sub-Clients can submit work requests
- âœ… Sub-Clients CANNOT see other sub-clients' projects
- âœ… Sub-Clients CANNOT see portfolio rollup view
- âœ… **NEW:** Sub-Clients complete Project Dashboard Tour with >60% completion rate

### 12.4 Navigation & RBAC
- âœ… Navigation items appear/hide based on user role
- âœ… All permissions enforced at UI, API, and database layers
- âœ… No unauthorized access possible through URL manipulation
- âœ… Clear breadcrumb navigation throughout application
- âœ… Quick access menu provides shortcuts to key features

### 12.5 Guided Tours & Help System
- âœ… **NEW:** All tours have >70% start rate among first-time users
- âœ… **NEW:** All tours have >60% completion rate
- âœ… **NEW:** Tour skip rate <30%
- âœ… **NEW:** Average tour completion time: 2-3 minutes
- âœ… **NEW:** >30% of users interact with informational tooltips
- âœ… **NEW:** >40% increase in feature adoption after tour completion
- âœ… **NEW:** >20% reduction in "how-to" support tickets
- âœ… **NEW:** All tours are keyboard accessible and screen reader compatible
- âœ… **NEW:** Tours work seamlessly on mobile devices

---

## 13. Final Conclusion

Phase 3 is now a complete, production-ready solution that includes:

1. âœ… **Platform Host UI** - Comprehensive project update tools
2. âœ… **Portfolio Rollup** - Consolidated view across all sub-clients
3. âœ… **Navigation Structure** - Clear, role-based menu organization
4. âœ… **Comprehensive RBAC** - Three-layer permission enforcement
5. âœ… **Guided Tours** - Interactive onboarding for all user types
6. âœ… **Informational Tooltips** - Contextual help throughout the application

**Estimated Timeline:** 8 weeks  
**Estimated Effort:** 360-440 hours (including guided tours)  
**Risk Level:** Medium (manageable with proper planning and testing)

**Key Differentiators:**
- **Self-Service Onboarding** - Users become proficient without training sessions
- **Contextual Help** - Answers available at the point of need
- **Role-Specific Tours** - Each user type gets relevant guidance
- **Reduced Support Burden** - Fewer "how-to" tickets and support calls
- **Increased Feature Adoption** - Users discover and use advanced features

**Ready to begin Phase 3.1 development!**
